[
  {
    "function_name": "taskData",
    "container": "UpdateFlagsOfAllMessagesTask",
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2014-2567/repo/src/Imap/Tasks/UpdateFlagsOfAllMessagesTask.cpp",
    "lines": "103-106",
    "snippet": "QVariant UpdateFlagsOfAllMessagesTask::taskData(const int role) const\n{\n    return role == RoleTaskCompactName ? QVariant(tr(\"Saving mailbox state\")) : QVariant();\n}",
    "includes": [
      "#include \"KeepMailboxOpenTask.h\"",
      "#include \"Imap/Model/Model.h\"",
      "#include \"Imap/Model/MailboxTree.h\"",
      "#include \"Imap/Model/ItemRoles.h\"",
      "#include \"UpdateFlagsOfAllMessagesTask.h\""
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "QVariant",
          "args": [],
          "line": 105
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "QVariant",
          "args": [
            "tr(\"Saving mailbox state\")"
          ],
          "line": 105
        },
        "resolved": true,
        "details": {
          "function_name": "ddresListToQVariant(",
          "container": null,
          "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2014-2567/repo/src/Imap/Model/MailboxTree.cpp",
          "lines": "40-47",
          "snippet": "VariantList addresListToQVariant(const QList<Imap::Message::MailAddress> &addressList)\n{\n    QVariantList res;\n    foreach(const Imap::Message::MailAddress& address, addressList) {\n        res.append(QVariant(QStringList() << address.name << address.adl << address.mailbox << address.host));\n    }\n    return res;\n}",
          "includes": [
            "include <QtDebug>",
            "include \"SpecialFlagNames.h\"\n#",
            "include \"Model.h\"\n#",
            "include \"MailboxTree.h\"\n#",
            "include \"ItemRoles.h\"\n#",
            "include \"Imap/Tasks/KeepMailboxOpenTask.h\"\n#",
            "include \"Imap/Parser/Rfc5322HeaderParser.h\"\n#",
            "include \"Imap/Encoders.h\"\n#",
            "include \"Common/MetaTypes.h\"\n#",
            "include \"Common/InvokeMethod.h\"\n#",
            "include \"Common/FindWithUnknown.h\"\n#",
            "include <QTextStream>\n#",
            "include <algorithm>\n#"
          ],
          "macros_used": [],
          "globals_used": [],
          "called_functions": [],
          "contextual_snippet": "include <QtDebug>\ninclude \"SpecialFlagNames.h\"\n#\ninclude \"Model.h\"\n#\ninclude \"MailboxTree.h\"\n#\ninclude \"ItemRoles.h\"\n#\ninclude \"Imap/Tasks/KeepMailboxOpenTask.h\"\n#\ninclude \"Imap/Parser/Rfc5322HeaderParser.h\"\n#\ninclude \"Imap/Encoders.h\"\n#\ninclude \"Common/MetaTypes.h\"\n#\ninclude \"Common/InvokeMethod.h\"\n#\ninclude \"Common/FindWithUnknown.h\"\n#\ninclude <QTextStream>\n#\ninclude <algorithm>\n#\n\nVariantList addresListToQVariant(const QList<Imap::Message::MailAddress> &addressList)\n{\n    QVariantList res;\n    foreach(const Imap::Message::MailAddress& address, addressList) {\n        res.append(QVariant(QStringList() << address.name << address.adl << address.mailbox << address.host));\n    }\n    return res;\n}"
        }
      },
      {
        "call_info": {
          "callee": "tr",
          "args": [
            "\"Saving mailbox state\""
          ],
          "line": 105
        },
        "resolved": true,
        "details": {
          "function_name": "setGeometry",
          "container": "FlowLayout",
          "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2014-2567/repo/src/Gui/FlowLayout.cpp",
          "lines": "125-129",
          "snippet": "void FlowLayout::setGeometry(const QRect &rect)\n{\n    QLayout::setGeometry(rect);\n    doLayout(rect, false);\n}",
          "includes": [
            "#include \"FlowLayout.h\"",
            "#include <QWidget>"
          ],
          "macros_used": [],
          "globals_used": [],
          "called_functions": [],
          "contextual_snippet": "#include \"FlowLayout.h\"\n#include <QWidget>\n\nFlowLayout {\n  void FlowLayout::setGeometry(const QRect &rect)\n  {\n      QLayout::setGeometry(rect);\n      doLayout(rect, false);\n  }\n}"
        }
      }
    ],
    "contextual_snippet": "#include \"KeepMailboxOpenTask.h\"\n#include \"Imap/Model/Model.h\"\n#include \"Imap/Model/MailboxTree.h\"\n#include \"Imap/Model/ItemRoles.h\"\n#include \"UpdateFlagsOfAllMessagesTask.h\"\n\nUpdateFlagsOfAllMessagesTask {\n  QVariant UpdateFlagsOfAllMessagesTask::taskData(const int role) const\n  {\n      return role == RoleTaskCompactName ? QVariant(tr(\"Saving mailbox state\")) : QVariant();\n  }\n}"
  },
  {
    "function_name": "handleStateHelper",
    "container": "UpdateFlagsOfAllMessagesTask",
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2014-2567/repo/src/Imap/Tasks/UpdateFlagsOfAllMessagesTask.cpp",
    "lines": "57-101",
    "snippet": "bool UpdateFlagsOfAllMessagesTask::handleStateHelper(const Imap::Responses::State *const resp)\n{\n    if (resp->tag.isEmpty())\n        return false;\n\n    if (resp->tag == tag) {\n        if (resp->kind == Responses::OK) {\n            TreeItemMailbox *mailbox = model->mailboxForSomeItem(mailboxIndex);\n            if (!mailbox) {\n                // There isn't much to be done here -- let's assume that the index has disappeared.\n                // The flags will be resynced the next time we open that mailbox.\n                _failed(QLatin1String(\"Mailbox is gone\"));\n                return true;\n            }\n            Q_ASSERT(mailbox);\n            TreeItemMsgList *list = dynamic_cast<TreeItemMsgList*>(mailbox->m_children [0]);\n            Q_ASSERT(list);\n\n            Q_FOREACH (TreeItem *item, list->m_children) {\n                TreeItemMessage *message = dynamic_cast<TreeItemMessage *>(item);\n                Q_ASSERT(message);\n\n                Q_ASSERT(flagOperation == Imap::Mailbox::FLAG_ADD || flagOperation == Imap::Mailbox::FLAG_ADD_SILENT);\n                QStringList newFlags = message->m_flags;\n                if (!newFlags.contains(flags)) {\n                    newFlags << flags;\n                    message->setFlags(list, model->normalizeFlags(newFlags), true);\n                    model->cache()->setMsgFlags(mailbox->mailbox(), message->uid(), newFlags);\n                    QModelIndex messageIndex = model->createIndex(message->m_offset, 0, message);\n\n                    // emitting dataChanged() separately for each message in the mailbox:\n                    // Trojita model assmues that dataChanged is emitted individually\n                    model->dataChanged(messageIndex, messageIndex);\n                }\n            }\n            model->dataChanged(mailboxIndex, mailboxIndex);\n            list->fetchNumbers(model);\n            _completed();\n        } else {\n            _failed(\"Failed to update Mailbox FLAGS\");\n        }\n        return true;\n    }\n    return false;\n}",
    "includes": [
      "#include \"KeepMailboxOpenTask.h\"",
      "#include \"Imap/Model/Model.h\"",
      "#include \"Imap/Model/MailboxTree.h\"",
      "#include \"Imap/Model/ItemRoles.h\"",
      "#include \"UpdateFlagsOfAllMessagesTask.h\""
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "_failed",
          "args": [
            "\"Failed to update Mailbox FLAGS\""
          ],
          "line": 96
        },
        "resolved": true,
        "details": {
          "function_name": "_failed(",
          "container": "hreadTask",
          "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2014-2567/repo/src/Imap/Tasks/ThreadTask.cpp",
          "lines": "112-117",
          "snippet": "oid ThreadTask::_failed(const QString &errorMessage)\n{\n    // FIXME: show this in the GUI\n    emit model->threadingFailed(mailboxIndex, algorithm, searchCriteria);\n    ImapTask::_failed(errorMessage);\n}",
          "includes": [
            "include \"KeepMailboxOpenTask.h\"",
            "include \"Imap/Model/MailboxTree.h\"\n#",
            "include \"Imap/Model/Model.h\"\n#",
            "include \"Imap/Model/ItemRoles.h\"\n#",
            "include \"ThreadTask.h\"\n#"
          ],
          "macros_used": [],
          "globals_used": [],
          "called_functions": [],
          "contextual_snippet": "include \"KeepMailboxOpenTask.h\"\ninclude \"Imap/Model/MailboxTree.h\"\n#\ninclude \"Imap/Model/Model.h\"\n#\ninclude \"Imap/Model/ItemRoles.h\"\n#\ninclude \"ThreadTask.h\"\n#\n\nhreadTask {\n  oid ThreadTask::_failed(const QString &errorMessage)\n  {\n      // FIXME: show this in the GUI\n      emit model->threadingFailed(mailboxIndex, algorithm, searchCriteria);\n      ImapTask::_failed(errorMessage);\n  }\n}"
        }
      },
      {
        "call_info": {
          "callee": "_completed",
          "args": [],
          "line": 94
        },
        "resolved": true,
        "details": {
          "function_name": "_completed(",
          "container": "mapTask",
          "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2014-2567/repo/src/Imap/Tasks/ImapTask.cpp",
          "lines": "224-233",
          "snippet": "oid ImapTask::_completed()\n{\n    _finished = true;\n    log(\"Completed\");\n    Q_FOREACH(ImapTask* task, dependentTasks) {\n        if (!task->isFinished())\n            task->perform();\n    }\n    emit completed(this);\n}",
          "includes": [
            "include \"KeepMailboxOpenTask.h\"",
            "include \"Imap/Model/TaskPresentationModel.h\"\n#",
            "include \"Imap/Model/Model.h\"\n#",
            "include \"Common/InvokeMethod.h\"\n#",
            "include \"ImapTask.h\"\n#"
          ],
          "macros_used": [],
          "globals_used": [],
          "called_functions": [],
          "contextual_snippet": "include \"KeepMailboxOpenTask.h\"\ninclude \"Imap/Model/TaskPresentationModel.h\"\n#\ninclude \"Imap/Model/Model.h\"\n#\ninclude \"Common/InvokeMethod.h\"\n#\ninclude \"ImapTask.h\"\n#\n\nmapTask {\n  oid ImapTask::_completed()\n  {\n      _finished = true;\n      log(\"Completed\");\n      Q_FOREACH(ImapTask* task, dependentTasks) {\n          if (!task->isFinished())\n              task->perform();\n      }\n      emit completed(this);\n  }\n}"
        }
      },
      {
        "call_info": {
          "callee": "list->fetchNumbers",
          "args": [
            "model"
          ],
          "line": 93
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "model->dataChanged",
          "args": [
            "mailboxIndex",
            "mailboxIndex"
          ],
          "line": 92
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "model->dataChanged",
          "args": [
            "messageIndex",
            "messageIndex"
          ],
          "line": 89
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "model->createIndex",
          "args": [
            "message->m_offset",
            "0",
            "message"
          ],
          "line": 85
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "model->cache",
          "args": [
            "mailbox->mailbox()",
            "message->uid()",
            "newFlags"
          ],
          "line": 84
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "message->uid",
          "args": [],
          "line": 84
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "mailbox->mailbox",
          "args": [],
          "line": 84
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "model->cache",
          "args": [],
          "line": 84
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "message->setFlags",
          "args": [
            "list",
            "model->normalizeFlags(newFlags)",
            "true"
          ],
          "line": 83
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "model->normalizeFlags",
          "args": [
            "newFlags"
          ],
          "line": 83
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "newFlags.contains",
          "args": [
            "flags"
          ],
          "line": 81
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "Q_ASSERT",
          "args": [
            "flagOperation == Imap::Mailbox::FLAG_ADD || flagOperation == Imap::Mailbox::FLAG_ADD_SILENT"
          ],
          "line": 79
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "Q_ASSERT",
          "args": [
            "message"
          ],
          "line": 77
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "dynamic_cast<TreeItemMessage *>",
          "args": [
            "item"
          ],
          "line": 76
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "Q_FOREACH",
          "args": [
            "TreeItem *item",
            "list->m_children"
          ],
          "line": 75
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "Q_ASSERT",
          "args": [
            "list"
          ],
          "line": 73
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "dynamic_cast<TreeItemMsgList*>",
          "args": [
            "mailbox->m_children [0]"
          ],
          "line": 72
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "Q_ASSERT",
          "args": [
            "mailbox"
          ],
          "line": 71
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "QLatin1String",
          "args": [
            "\"Mailbox is gone\""
          ],
          "line": 68
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "model->mailboxForSomeItem",
          "args": [
            "mailboxIndex"
          ],
          "line": 64
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "resp->tag.isEmpty",
          "args": [],
          "line": 59
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include \"KeepMailboxOpenTask.h\"\n#include \"Imap/Model/Model.h\"\n#include \"Imap/Model/MailboxTree.h\"\n#include \"Imap/Model/ItemRoles.h\"\n#include \"UpdateFlagsOfAllMessagesTask.h\"\n\nUpdateFlagsOfAllMessagesTask {\n  bool UpdateFlagsOfAllMessagesTask::handleStateHelper(const Imap::Responses::State *const resp)\n  {\n      if (resp->tag.isEmpty())\n          return false;\n  \n      if (resp->tag == tag) {\n          if (resp->kind == Responses::OK) {\n              TreeItemMailbox *mailbox = model->mailboxForSomeItem(mailboxIndex);\n              if (!mailbox) {\n                  // There isn't much to be done here -- let's assume that the index has disappeared.\n                  // The flags will be resynced the next time we open that mailbox.\n                  _failed(QLatin1String(\"Mailbox is gone\"));\n                  return true;\n              }\n              Q_ASSERT(mailbox);\n              TreeItemMsgList *list = dynamic_cast<TreeItemMsgList*>(mailbox->m_children [0]);\n              Q_ASSERT(list);\n  \n              Q_FOREACH (TreeItem *item, list->m_children) {\n                  TreeItemMessage *message = dynamic_cast<TreeItemMessage *>(item);\n                  Q_ASSERT(message);\n  \n                  Q_ASSERT(flagOperation == Imap::Mailbox::FLAG_ADD || flagOperation == Imap::Mailbox::FLAG_ADD_SILENT);\n                  QStringList newFlags = message->m_flags;\n                  if (!newFlags.contains(flags)) {\n                      newFlags << flags;\n                      message->setFlags(list, model->normalizeFlags(newFlags), true);\n                      model->cache()->setMsgFlags(mailbox->mailbox(), message->uid(), newFlags);\n                      QModelIndex messageIndex = model->createIndex(message->m_offset, 0, message);\n  \n                      // emitting dataChanged() separately for each message in the mailbox:\n                      // Trojita model assmues that dataChanged is emitted individually\n                      model->dataChanged(messageIndex, messageIndex);\n                  }\n              }\n              model->dataChanged(mailboxIndex, mailboxIndex);\n              list->fetchNumbers(model);\n              _completed();\n          } else {\n              _failed(\"Failed to update Mailbox FLAGS\");\n          }\n          return true;\n      }\n      return false;\n  }\n}"
  },
  {
    "function_name": "perform",
    "container": "UpdateFlagsOfAllMessagesTask",
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2014-2567/repo/src/Imap/Tasks/UpdateFlagsOfAllMessagesTask.cpp",
    "lines": "45-55",
    "snippet": "void UpdateFlagsOfAllMessagesTask::perform()\n{\n    Q_ASSERT(conn);\n    parser = conn->parser;\n\n    markAsActiveTask();\n    IMAP_TASK_CHECK_ABORT_DIE;\n\n    Sequence seq = Sequence::startingAt(1);\n    tag = parser->store(seq, toImapString(flagOperation), flags);\n}",
    "includes": [
      "#include \"KeepMailboxOpenTask.h\"",
      "#include \"Imap/Model/Model.h\"",
      "#include \"Imap/Model/MailboxTree.h\"",
      "#include \"Imap/Model/ItemRoles.h\"",
      "#include \"UpdateFlagsOfAllMessagesTask.h\""
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "parser->store",
          "args": [
            "seq",
            "toImapString(flagOperation)",
            "flags"
          ],
          "line": 54
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "toImapString",
          "args": [
            "flagOperation"
          ],
          "line": 54
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "Sequence::startingAt",
          "args": [
            "1"
          ],
          "line": 53
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "markAsActiveTask",
          "args": [],
          "line": 50
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "Q_ASSERT",
          "args": [
            "conn"
          ],
          "line": 47
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include \"KeepMailboxOpenTask.h\"\n#include \"Imap/Model/Model.h\"\n#include \"Imap/Model/MailboxTree.h\"\n#include \"Imap/Model/ItemRoles.h\"\n#include \"UpdateFlagsOfAllMessagesTask.h\"\n\nUpdateFlagsOfAllMessagesTask {\n  void UpdateFlagsOfAllMessagesTask::perform()\n  {\n      Q_ASSERT(conn);\n      parser = conn->parser;\n  \n      markAsActiveTask();\n      IMAP_TASK_CHECK_ABORT_DIE;\n  \n      Sequence seq = Sequence::startingAt(1);\n      tag = parser->store(seq, toImapString(flagOperation), flags);\n  }\n}"
  },
  {
    "function_name": "UpdateFlagsOfAllMessagesTask",
    "container": "UpdateFlagsOfAllMessagesTask",
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2014-2567/repo/src/Imap/Tasks/UpdateFlagsOfAllMessagesTask.cpp",
    "lines": "35-43",
    "snippet": "UpdateFlagsOfAllMessagesTask::UpdateFlagsOfAllMessagesTask(Model *model, const QModelIndex &mailboxIndex,\n                                                           const FlagsOperation flagOperation, const QString &flags):\n    ImapTask(model), flagOperation(flagOperation), flags(flags), mailboxIndex(mailboxIndex)\n{\n    Q_ASSERT(mailboxIndex.isValid());\n    Q_ASSERT(flagOperation == Imap::Mailbox::FLAG_ADD || flagOperation == Imap::Mailbox::FLAG_ADD_SILENT);\n    conn = model->findTaskResponsibleFor(mailboxIndex);\n    conn->addDependentTask(this);\n}",
    "includes": [
      "#include \"KeepMailboxOpenTask.h\"",
      "#include \"Imap/Model/Model.h\"",
      "#include \"Imap/Model/MailboxTree.h\"",
      "#include \"Imap/Model/ItemRoles.h\"",
      "#include \"UpdateFlagsOfAllMessagesTask.h\""
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "conn->addDependentTask",
          "args": [
            "this"
          ],
          "line": 42
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "model->findTaskResponsibleFor",
          "args": [
            "mailboxIndex"
          ],
          "line": 41
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "Q_ASSERT",
          "args": [
            "flagOperation == Imap::Mailbox::FLAG_ADD || flagOperation == Imap::Mailbox::FLAG_ADD_SILENT"
          ],
          "line": 40
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "Q_ASSERT",
          "args": [
            "mailboxIndex.isValid()"
          ],
          "line": 39
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "mailboxIndex.isValid",
          "args": [],
          "line": 39
        },
        "resolved": true,
        "details": {
          "function_name": "isValid",
          "container": "QMimeXMLProvider",
          "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2014-2567/repo/src/mimetypes-qt4/mimetypes/qmimeprovider.cpp",
          "lines": "681-684",
          "snippet": "bool QMimeXMLProvider::isValid()\n{\n    return true;\n}",
          "includes": [
            "#include <QtEndian>",
            "#include <QDateTime>",
            "#include <QDebug>",
            "#include <QByteArrayMatcher>",
            "#include <QFile>",
            "#include <QDir>",
            "#include <QXmlStreamReader>",
            "#include \"qmimemagicrulematcher_p.h\"",
            "#include <qstandardpaths.h>",
            "#include \"qmimetypeparser_p.h\"",
            "#include \"qmimeprovider_p.h\""
          ],
          "macros_used": [],
          "globals_used": [],
          "called_functions": [],
          "contextual_snippet": "#include <QtEndian>\n#include <QDateTime>\n#include <QDebug>\n#include <QByteArrayMatcher>\n#include <QFile>\n#include <QDir>\n#include <QXmlStreamReader>\n#include \"qmimemagicrulematcher_p.h\"\n#include <qstandardpaths.h>\n#include \"qmimetypeparser_p.h\"\n#include \"qmimeprovider_p.h\"\n\nQMimeXMLProvider {\n  bool QMimeXMLProvider::isValid()\n  {\n      return true;\n  }\n}"
        }
      }
    ],
    "contextual_snippet": "#include \"KeepMailboxOpenTask.h\"\n#include \"Imap/Model/Model.h\"\n#include \"Imap/Model/MailboxTree.h\"\n#include \"Imap/Model/ItemRoles.h\"\n#include \"UpdateFlagsOfAllMessagesTask.h\"\n\nUpdateFlagsOfAllMessagesTask {\n  UpdateFlagsOfAllMessagesTask::UpdateFlagsOfAllMessagesTask(Model *model, const QModelIndex &mailboxIndex,\n                                                             const FlagsOperation flagOperation, const QString &flags):\n      ImapTask(model), flagOperation(flagOperation), flags(flags), mailboxIndex(mailboxIndex)\n  {\n      Q_ASSERT(mailboxIndex.isValid());\n      Q_ASSERT(flagOperation == Imap::Mailbox::FLAG_ADD || flagOperation == Imap::Mailbox::FLAG_ADD_SILENT);\n      conn = model->findTaskResponsibleFor(mailboxIndex);\n      conn->addDependentTask(this);\n  }\n}"
  }
]