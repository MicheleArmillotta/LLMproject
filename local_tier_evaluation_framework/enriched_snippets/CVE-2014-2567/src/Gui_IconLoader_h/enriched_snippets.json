[
  {
    "function_name": "adIcon(c",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2014-2567/repo/src/Gui/IconLoader.h",
    "lines": "42-55",
    "snippet": "line QIcon loadIcon(const QString &name)\n{\n    // A QIcon(QString) constructor creates non-null QIcons, even though the resulting icon will\n    // not ever return a valid and usable pixmap. This means that we have to actually look at the\n    // icon's pixmap to find out what to return.\n    // If we do not do that, the GUI shows empty pixmaps instead of a text fallback, which is\n    // clearly suboptimal.\n    QIcon res = QIcon::fromTheme(name, QIcon(QString::fromUtf8(\":/icons/%1\").arg(name)));\n    if (res.pixmap(QSize(16, 16)).isNull()) {\n        return QIcon();\n    } else {\n        return res;\n    }\n}",
    "includes": [
      "include <QIcon>"
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "con()",
          "args": [],
          "line": 51
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "s.pixmap",
          "args": [],
          "line": 50
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "s.pixmap",
          "args": [
            "ize(16, 16))."
          ],
          "line": 50
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "ize(1",
          "args": [
            ",",
            "))"
          ],
          "line": 50
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "con::fromTheme(n",
          "args": [
            "me,",
            "con(QString::fromUtf8(\":/icons/%1\").arg(name)));"
          ],
          "line": 49
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "con(Q",
          "args": [
            "tring::fromUtf8(\":/icons/%1\").arg(name)))"
          ],
          "line": 49
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "tring::fromUtf8",
          "args": [
            "me))"
          ],
          "line": 49
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "tring::fromUtf8(\"",
          "args": [
            "/icons/%1\")."
          ],
          "line": 49
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "include <QIcon>\n\nline QIcon loadIcon(const QString &name)\n{\n    // A QIcon(QString) constructor creates non-null QIcons, even though the resulting icon will\n    // not ever return a valid and usable pixmap. This means that we have to actually look at the\n    // icon's pixmap to find out what to return.\n    // If we do not do that, the GUI shows empty pixmaps instead of a text fallback, which is\n    // clearly suboptimal.\n    QIcon res = QIcon::fromTheme(name, QIcon(QString::fromUtf8(\":/icons/%1\").arg(name)));\n    if (res.pixmap(QSize(16, 16)).isNull()) {\n        return QIcon();\n    } else {\n        return res;\n    }\n}"
  }
]