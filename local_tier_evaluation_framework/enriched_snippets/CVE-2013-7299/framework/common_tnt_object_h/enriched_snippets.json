[
  {
    "function_name": "createPointerObject",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2013-7299/repo/framework/common/tnt/object.h",
    "lines": "67-76",
    "snippet": "Object::pointer_type createPointerObject(const data_type& d)\n  {\n    // assign the PointerObject to a smart pointer prior calling the ctor of\n    // the created object to prevent memory leaky in case the ctor throws an\n    // exception\n    PointerObject<data_type>* ptr = new PointerObject<data_type>();\n    Object::pointer_type ret = ptr;\n    ptr->set(new data_type(d));\n    return ret;\n  }",
    "includes": [
      "#include <cxxtools/smartptr.h>",
      "#include <cxxtools/refcounted.h>"
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "ptr->set",
          "args": [
            "new data_type(d)"
          ],
          "line": 74
        },
        "resolved": true,
        "details": {
          "function_name": "set",
          "container": "PointerObject",
          "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2013-7299/repo/framework/common/tnt/object.h",
          "lines": "61-62",
          "snippet": "void set(data_type* ptr_)\n        { destroyPolicy<data_type>::destroy(ptr); ptr = ptr_; }",
          "includes": [
            "#include <cxxtools/smartptr.h>",
            "#include <cxxtools/refcounted.h>"
          ],
          "macros_used": [],
          "globals_used": [],
          "called_functions": [],
          "contextual_snippet": "#include <cxxtools/smartptr.h>\n#include <cxxtools/refcounted.h>\n\nPointerObject {\n  void set(data_type* ptr_)\n          { destroyPolicy<data_type>::destroy(ptr); ptr = ptr_; }\n}"
        }
      }
    ],
    "contextual_snippet": "#include <cxxtools/smartptr.h>\n#include <cxxtools/refcounted.h>\n\nObject::pointer_type createPointerObject(const data_type& d)\n  {\n    // assign the PointerObject to a smart pointer prior calling the ctor of\n    // the created object to prevent memory leaky in case the ctor throws an\n    // exception\n    PointerObject<data_type>* ptr = new PointerObject<data_type>();\n    Object::pointer_type ret = ptr;\n    ptr->set(new data_type(d));\n    return ret;\n  }"
  },
  {
    "function_name": "set",
    "container": "PointerObject",
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2013-7299/repo/framework/common/tnt/object.h",
    "lines": "61-62",
    "snippet": "void set(data_type* ptr_)\n        { destroyPolicy<data_type>::destroy(ptr); ptr = ptr_; }",
    "includes": [
      "#include <cxxtools/smartptr.h>",
      "#include <cxxtools/refcounted.h>"
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "destroyPolicy<data_type>::destroy",
          "args": [
            "ptr"
          ],
          "line": 62
        },
        "resolved": true,
        "details": {
          "function_name": "destroy",
          "container": "NullDestroyPolicy",
          "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2013-7299/repo/framework/common/tnt/scope.h",
          "lines": "45-45",
          "snippet": "static void destroy(objectType* ptr) { }",
          "includes": [
            "#include <cxxtools/refcounted.h>",
            "#include <cxxtools/mutex.h>",
            "#include <tnt/object.h>",
            "#include <string>",
            "#include <map>"
          ],
          "macros_used": [],
          "globals_used": [],
          "called_functions": [],
          "contextual_snippet": "#include <cxxtools/refcounted.h>\n#include <cxxtools/mutex.h>\n#include <tnt/object.h>\n#include <string>\n#include <map>\n\nNullDestroyPolicy {\n  static void destroy(objectType* ptr) { }\n}"
        }
      }
    ],
    "contextual_snippet": "#include <cxxtools/smartptr.h>\n#include <cxxtools/refcounted.h>\n\nPointerObject {\n  void set(data_type* ptr_)\n          { destroyPolicy<data_type>::destroy(ptr); ptr = ptr_; }\n}"
  },
  {
    "function_name": "PointerObject",
    "container": "PointerObject",
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2013-7299/repo/framework/common/tnt/object.h",
    "lines": "56-58",
    "snippet": "explicit PointerObject(data_type* ptr_ = 0)\n        : ptr(ptr_)\n        { }",
    "includes": [
      "#include <cxxtools/smartptr.h>",
      "#include <cxxtools/refcounted.h>"
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [],
    "contextual_snippet": "#include <cxxtools/smartptr.h>\n#include <cxxtools/refcounted.h>\n\nPointerObject {\n  explicit PointerObject(data_type* ptr_ = 0)\n          : ptr(ptr_)\n          { }\n}"
  }
]