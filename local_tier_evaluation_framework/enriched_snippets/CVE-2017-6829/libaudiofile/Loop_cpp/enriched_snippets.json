[
  {
    "function_name": "afGetLoopEndFrame",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/Loop.cpp",
    "lines": "302-313",
    "snippet": "AFframecount afGetLoopEndFrame (AFfilehandle file, int instid, int loopid)\n{\n\tLoop *loop = getLoop(file, instid, loopid, false);\n\n\tif (!loop)\n\t\treturn -1;\n\n\tint trackid = loop->trackid;\n\tint endMarker = loop->endMarker;\n\n\treturn afGetMarkPosition(file, trackid, endMarker);\n}",
    "includes": [
      "#include \"util.h\"",
      "#include \"audiofile.h\"",
      "#include \"afinternal.h\"",
      "#include \"Setup.h\"",
      "#include \"Instrument.h\"",
      "#include \"FileHandle.h\"",
      "#include \"config.h\""
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "afGetMarkPosition",
          "args": [
            "file",
            "trackid",
            "endMarker"
          ],
          "line": 312
        },
        "resolved": true,
        "details": {
          "function_name": "afGetMarkPosition",
          "container": null,
          "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/Marker.cpp",
          "lines": "234-248",
          "snippet": "AFframecount afGetMarkPosition (AFfilehandle file, int trackid, int markid)\n{\n\tif (!_af_filehandle_ok(file))\n\t\treturn 0L;\n\n\tTrack *track = file->getTrack(trackid);\n\tif (!track)\n\t\treturn 0L;\n\n\tMarker *marker = track->getMarker(markid);\n\tif (!marker)\n\t\treturn 0L;\n\n\treturn marker->position;\n}",
          "includes": [
            "#include \"util.h\"",
            "#include \"audiofile.h\"",
            "#include \"afinternal.h\"",
            "#include \"Track.h\"",
            "#include \"Setup.h\"",
            "#include \"FileHandle.h\"",
            "#include <assert.h>",
            "#include <stdlib.h>",
            "#include <string.h>",
            "#include \"Marker.h\"",
            "#include \"config.h\""
          ],
          "macros_used": [],
          "globals_used": [],
          "called_functions": [],
          "contextual_snippet": "#include \"util.h\"\n#include \"audiofile.h\"\n#include \"afinternal.h\"\n#include \"Track.h\"\n#include \"Setup.h\"\n#include \"FileHandle.h\"\n#include <assert.h>\n#include <stdlib.h>\n#include <string.h>\n#include \"Marker.h\"\n#include \"config.h\"\n\nAFframecount afGetMarkPosition (AFfilehandle file, int trackid, int markid)\n{\n\tif (!_af_filehandle_ok(file))\n\t\treturn 0L;\n\n\tTrack *track = file->getTrack(trackid);\n\tif (!track)\n\t\treturn 0L;\n\n\tMarker *marker = track->getMarker(markid);\n\tif (!marker)\n\t\treturn 0L;\n\n\treturn marker->position;\n}"
        }
      },
      {
        "call_info": {
          "callee": "getLoop",
          "args": [
            "file",
            "instid",
            "loopid",
            "false"
          ],
          "line": 304
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include \"util.h\"\n#include \"audiofile.h\"\n#include \"afinternal.h\"\n#include \"Setup.h\"\n#include \"Instrument.h\"\n#include \"FileHandle.h\"\n#include \"config.h\"\n\nAFframecount afGetLoopEndFrame (AFfilehandle file, int instid, int loopid)\n{\n\tLoop *loop = getLoop(file, instid, loopid, false);\n\n\tif (!loop)\n\t\treturn -1;\n\n\tint trackid = loop->trackid;\n\tint endMarker = loop->endMarker;\n\n\treturn afGetMarkPosition(file, trackid, endMarker);\n}"
  },
  {
    "function_name": "afSetLoopEndFrame",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/Loop.cpp",
    "lines": "279-296",
    "snippet": "int afSetLoopEndFrame (AFfilehandle file, int instid, int loopid, AFframecount endFrame)\n{\n\tLoop *loop = getLoop(file, instid, loopid, true);\n\tif (!loop)\n\t\treturn -1;\n\n\tif (endFrame < 0)\n\t{\n\t\t_af_error(AF_BAD_FRAME, \"loop end frame must not be negative\");\n\t\treturn AF_FAIL;\n\t}\n\n\tint trackid = loop->trackid;\n\tint endMarker = loop->endMarker;\n\n\tafSetMarkPosition(file, trackid, endMarker, endFrame);\n\treturn AF_SUCCEED;\n}",
    "includes": [
      "#include \"util.h\"",
      "#include \"audiofile.h\"",
      "#include \"afinternal.h\"",
      "#include \"Setup.h\"",
      "#include \"Instrument.h\"",
      "#include \"FileHandle.h\"",
      "#include \"config.h\""
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "afSetMarkPosition",
          "args": [
            "file",
            "trackid",
            "endMarker",
            "endFrame"
          ],
          "line": 294
        },
        "resolved": true,
        "details": {
          "function_name": "afSetMarkPosition",
          "container": null,
          "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/Marker.cpp",
          "lines": "187-212",
          "snippet": "void afSetMarkPosition (AFfilehandle file, int trackid, int markid,\n\tAFframecount position)\n{\n\tif (!_af_filehandle_ok(file))\n\t\treturn;\n\n\tif (!file->checkCanWrite())\n\t\treturn;\n\n\tTrack *track = file->getTrack(trackid);\n\tif (!track)\n\t\treturn;\n\n\tMarker *marker = track->getMarker(markid);\n\tif (!marker)\n\t\treturn;\n\n\tif (position < 0)\n\t{\n\t\t_af_error(AF_BAD_MARKPOS, \"invalid marker position %jd\",\n\t\t\tstatic_cast<intmax_t>(position));\n\t\tposition = 0;\n\t}\n\n\tmarker->position = position;\n}",
          "includes": [
            "#include \"util.h\"",
            "#include \"audiofile.h\"",
            "#include \"afinternal.h\"",
            "#include \"Track.h\"",
            "#include \"Setup.h\"",
            "#include \"FileHandle.h\"",
            "#include <assert.h>",
            "#include <stdlib.h>",
            "#include <string.h>",
            "#include \"Marker.h\"",
            "#include \"config.h\""
          ],
          "macros_used": [],
          "globals_used": [],
          "called_functions": [],
          "contextual_snippet": "#include \"util.h\"\n#include \"audiofile.h\"\n#include \"afinternal.h\"\n#include \"Track.h\"\n#include \"Setup.h\"\n#include \"FileHandle.h\"\n#include <assert.h>\n#include <stdlib.h>\n#include <string.h>\n#include \"Marker.h\"\n#include \"config.h\"\n\nvoid afSetMarkPosition (AFfilehandle file, int trackid, int markid,\n\tAFframecount position)\n{\n\tif (!_af_filehandle_ok(file))\n\t\treturn;\n\n\tif (!file->checkCanWrite())\n\t\treturn;\n\n\tTrack *track = file->getTrack(trackid);\n\tif (!track)\n\t\treturn;\n\n\tMarker *marker = track->getMarker(markid);\n\tif (!marker)\n\t\treturn;\n\n\tif (position < 0)\n\t{\n\t\t_af_error(AF_BAD_MARKPOS, \"invalid marker position %jd\",\n\t\t\tstatic_cast<intmax_t>(position));\n\t\tposition = 0;\n\t}\n\n\tmarker->position = position;\n}"
        }
      },
      {
        "call_info": {
          "callee": "_af_error",
          "args": [
            "AF_BAD_FRAME",
            "\"loop end frame must not be negative\""
          ],
          "line": 287
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "getLoop",
          "args": [
            "file",
            "instid",
            "loopid",
            "true"
          ],
          "line": 281
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include \"util.h\"\n#include \"audiofile.h\"\n#include \"afinternal.h\"\n#include \"Setup.h\"\n#include \"Instrument.h\"\n#include \"FileHandle.h\"\n#include \"config.h\"\n\nint afSetLoopEndFrame (AFfilehandle file, int instid, int loopid, AFframecount endFrame)\n{\n\tLoop *loop = getLoop(file, instid, loopid, true);\n\tif (!loop)\n\t\treturn -1;\n\n\tif (endFrame < 0)\n\t{\n\t\t_af_error(AF_BAD_FRAME, \"loop end frame must not be negative\");\n\t\treturn AF_FAIL;\n\t}\n\n\tint trackid = loop->trackid;\n\tint endMarker = loop->endMarker;\n\n\tafSetMarkPosition(file, trackid, endMarker, endFrame);\n\treturn AF_SUCCEED;\n}"
  },
  {
    "function_name": "afGetLoopEnd",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/Loop.cpp",
    "lines": "266-274",
    "snippet": "int afGetLoopEnd (AFfilehandle file, int instid, int loopid)\n{\n\tLoop *loop = getLoop(file, instid, loopid, false);\n\n\tif (!loop)\n\t\treturn -1;\n\n\treturn loop->endMarker;\n}",
    "includes": [
      "#include \"util.h\"",
      "#include \"audiofile.h\"",
      "#include \"afinternal.h\"",
      "#include \"Setup.h\"",
      "#include \"Instrument.h\"",
      "#include \"FileHandle.h\"",
      "#include \"config.h\""
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "getLoop",
          "args": [
            "file",
            "instid",
            "loopid",
            "false"
          ],
          "line": 268
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include \"util.h\"\n#include \"audiofile.h\"\n#include \"afinternal.h\"\n#include \"Setup.h\"\n#include \"Instrument.h\"\n#include \"FileHandle.h\"\n#include \"config.h\"\n\nint afGetLoopEnd (AFfilehandle file, int instid, int loopid)\n{\n\tLoop *loop = getLoop(file, instid, loopid, false);\n\n\tif (!loop)\n\t\treturn -1;\n\n\treturn loop->endMarker;\n}"
  },
  {
    "function_name": "afSetLoopEnd",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/Loop.cpp",
    "lines": "253-261",
    "snippet": "void afSetLoopEnd (AFfilehandle file, int instid, int loopid, int markid)\n{\n\tLoop *loop = getLoop(file, instid, loopid, true);\n\n\tif (!loop)\n\t\treturn;\n\n\tloop->endMarker = markid;\n}",
    "includes": [
      "#include \"util.h\"",
      "#include \"audiofile.h\"",
      "#include \"afinternal.h\"",
      "#include \"Setup.h\"",
      "#include \"Instrument.h\"",
      "#include \"FileHandle.h\"",
      "#include \"config.h\""
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "getLoop",
          "args": [
            "file",
            "instid",
            "loopid",
            "true"
          ],
          "line": 255
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include \"util.h\"\n#include \"audiofile.h\"\n#include \"afinternal.h\"\n#include \"Setup.h\"\n#include \"Instrument.h\"\n#include \"FileHandle.h\"\n#include \"config.h\"\n\nvoid afSetLoopEnd (AFfilehandle file, int instid, int loopid, int markid)\n{\n\tLoop *loop = getLoop(file, instid, loopid, true);\n\n\tif (!loop)\n\t\treturn;\n\n\tloop->endMarker = markid;\n}"
  },
  {
    "function_name": "afGetLoopTrack",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/Loop.cpp",
    "lines": "240-248",
    "snippet": "int afGetLoopTrack (AFfilehandle file, int instid, int loopid)\n{\n\tLoop *loop = getLoop(file, instid, loopid, false);\n\n\tif (!loop)\n\t\treturn -1;\n\n\treturn loop->trackid;\n}",
    "includes": [
      "#include \"util.h\"",
      "#include \"audiofile.h\"",
      "#include \"afinternal.h\"",
      "#include \"Setup.h\"",
      "#include \"Instrument.h\"",
      "#include \"FileHandle.h\"",
      "#include \"config.h\""
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "getLoop",
          "args": [
            "file",
            "instid",
            "loopid",
            "false"
          ],
          "line": 242
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include \"util.h\"\n#include \"audiofile.h\"\n#include \"afinternal.h\"\n#include \"Setup.h\"\n#include \"Instrument.h\"\n#include \"FileHandle.h\"\n#include \"config.h\"\n\nint afGetLoopTrack (AFfilehandle file, int instid, int loopid)\n{\n\tLoop *loop = getLoop(file, instid, loopid, false);\n\n\tif (!loop)\n\t\treturn -1;\n\n\treturn loop->trackid;\n}"
  },
  {
    "function_name": "afSetLoopTrack",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/Loop.cpp",
    "lines": "228-235",
    "snippet": "void afSetLoopTrack (AFfilehandle file, int instid, int loopid, int track)\n{\n\tLoop *loop = getLoop(file, instid, loopid, true);\n\n\tif (!loop) return;\n\n\tloop->trackid = track;\n}",
    "includes": [
      "#include \"util.h\"",
      "#include \"audiofile.h\"",
      "#include \"afinternal.h\"",
      "#include \"Setup.h\"",
      "#include \"Instrument.h\"",
      "#include \"FileHandle.h\"",
      "#include \"config.h\""
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "getLoop",
          "args": [
            "file",
            "instid",
            "loopid",
            "true"
          ],
          "line": 230
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include \"util.h\"\n#include \"audiofile.h\"\n#include \"afinternal.h\"\n#include \"Setup.h\"\n#include \"Instrument.h\"\n#include \"FileHandle.h\"\n#include \"config.h\"\n\nvoid afSetLoopTrack (AFfilehandle file, int instid, int loopid, int track)\n{\n\tLoop *loop = getLoop(file, instid, loopid, true);\n\n\tif (!loop) return;\n\n\tloop->trackid = track;\n}"
  },
  {
    "function_name": "afGetLoopStartFrame",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/Loop.cpp",
    "lines": "213-223",
    "snippet": "AFframecount afGetLoopStartFrame (AFfilehandle file, int instid, int loopid)\n{\n\tLoop *loop = getLoop(file, instid, loopid, false);\n\tif (!loop)\n\t\treturn -1;\n\n\tint trackid = loop->trackid;\n\tint beginMarker = loop->beginMarker;\n\n\treturn afGetMarkPosition(file, trackid, beginMarker);\n}",
    "includes": [
      "#include \"util.h\"",
      "#include \"audiofile.h\"",
      "#include \"afinternal.h\"",
      "#include \"Setup.h\"",
      "#include \"Instrument.h\"",
      "#include \"FileHandle.h\"",
      "#include \"config.h\""
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "afGetMarkPosition",
          "args": [
            "file",
            "trackid",
            "beginMarker"
          ],
          "line": 222
        },
        "resolved": true,
        "details": {
          "function_name": "afGetMarkPosition",
          "container": null,
          "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/Marker.cpp",
          "lines": "234-248",
          "snippet": "AFframecount afGetMarkPosition (AFfilehandle file, int trackid, int markid)\n{\n\tif (!_af_filehandle_ok(file))\n\t\treturn 0L;\n\n\tTrack *track = file->getTrack(trackid);\n\tif (!track)\n\t\treturn 0L;\n\n\tMarker *marker = track->getMarker(markid);\n\tif (!marker)\n\t\treturn 0L;\n\n\treturn marker->position;\n}",
          "includes": [
            "#include \"util.h\"",
            "#include \"audiofile.h\"",
            "#include \"afinternal.h\"",
            "#include \"Track.h\"",
            "#include \"Setup.h\"",
            "#include \"FileHandle.h\"",
            "#include <assert.h>",
            "#include <stdlib.h>",
            "#include <string.h>",
            "#include \"Marker.h\"",
            "#include \"config.h\""
          ],
          "macros_used": [],
          "globals_used": [],
          "called_functions": [],
          "contextual_snippet": "#include \"util.h\"\n#include \"audiofile.h\"\n#include \"afinternal.h\"\n#include \"Track.h\"\n#include \"Setup.h\"\n#include \"FileHandle.h\"\n#include <assert.h>\n#include <stdlib.h>\n#include <string.h>\n#include \"Marker.h\"\n#include \"config.h\"\n\nAFframecount afGetMarkPosition (AFfilehandle file, int trackid, int markid)\n{\n\tif (!_af_filehandle_ok(file))\n\t\treturn 0L;\n\n\tTrack *track = file->getTrack(trackid);\n\tif (!track)\n\t\treturn 0L;\n\n\tMarker *marker = track->getMarker(markid);\n\tif (!marker)\n\t\treturn 0L;\n\n\treturn marker->position;\n}"
        }
      },
      {
        "call_info": {
          "callee": "getLoop",
          "args": [
            "file",
            "instid",
            "loopid",
            "false"
          ],
          "line": 215
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include \"util.h\"\n#include \"audiofile.h\"\n#include \"afinternal.h\"\n#include \"Setup.h\"\n#include \"Instrument.h\"\n#include \"FileHandle.h\"\n#include \"config.h\"\n\nAFframecount afGetLoopStartFrame (AFfilehandle file, int instid, int loopid)\n{\n\tLoop *loop = getLoop(file, instid, loopid, false);\n\tif (!loop)\n\t\treturn -1;\n\n\tint trackid = loop->trackid;\n\tint beginMarker = loop->beginMarker;\n\n\treturn afGetMarkPosition(file, trackid, beginMarker);\n}"
  },
  {
    "function_name": "afSetLoopStartFrame",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/Loop.cpp",
    "lines": "190-208",
    "snippet": "int afSetLoopStartFrame (AFfilehandle file, int instid, int loopid, AFframecount startFrame)\n{\n\tLoop *loop = getLoop(file, instid, loopid, true);\n\n\tif (!loop)\n\t\treturn -1;\n\n\tif (startFrame < 0)\n\t{\n\t\t_af_error(AF_BAD_FRAME, \"loop start frame must not be negative\");\n\t\treturn AF_FAIL;\n\t}\n\n\tint\ttrackid = loop->trackid;\n\tint beginMarker = loop->beginMarker;\n\n\tafSetMarkPosition(file, trackid, beginMarker, startFrame);\n\treturn AF_SUCCEED;\n}",
    "includes": [
      "#include \"util.h\"",
      "#include \"audiofile.h\"",
      "#include \"afinternal.h\"",
      "#include \"Setup.h\"",
      "#include \"Instrument.h\"",
      "#include \"FileHandle.h\"",
      "#include \"config.h\""
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "afSetMarkPosition",
          "args": [
            "file",
            "trackid",
            "beginMarker",
            "startFrame"
          ],
          "line": 206
        },
        "resolved": true,
        "details": {
          "function_name": "afSetMarkPosition",
          "container": null,
          "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/Marker.cpp",
          "lines": "187-212",
          "snippet": "void afSetMarkPosition (AFfilehandle file, int trackid, int markid,\n\tAFframecount position)\n{\n\tif (!_af_filehandle_ok(file))\n\t\treturn;\n\n\tif (!file->checkCanWrite())\n\t\treturn;\n\n\tTrack *track = file->getTrack(trackid);\n\tif (!track)\n\t\treturn;\n\n\tMarker *marker = track->getMarker(markid);\n\tif (!marker)\n\t\treturn;\n\n\tif (position < 0)\n\t{\n\t\t_af_error(AF_BAD_MARKPOS, \"invalid marker position %jd\",\n\t\t\tstatic_cast<intmax_t>(position));\n\t\tposition = 0;\n\t}\n\n\tmarker->position = position;\n}",
          "includes": [
            "#include \"util.h\"",
            "#include \"audiofile.h\"",
            "#include \"afinternal.h\"",
            "#include \"Track.h\"",
            "#include \"Setup.h\"",
            "#include \"FileHandle.h\"",
            "#include <assert.h>",
            "#include <stdlib.h>",
            "#include <string.h>",
            "#include \"Marker.h\"",
            "#include \"config.h\""
          ],
          "macros_used": [],
          "globals_used": [],
          "called_functions": [],
          "contextual_snippet": "#include \"util.h\"\n#include \"audiofile.h\"\n#include \"afinternal.h\"\n#include \"Track.h\"\n#include \"Setup.h\"\n#include \"FileHandle.h\"\n#include <assert.h>\n#include <stdlib.h>\n#include <string.h>\n#include \"Marker.h\"\n#include \"config.h\"\n\nvoid afSetMarkPosition (AFfilehandle file, int trackid, int markid,\n\tAFframecount position)\n{\n\tif (!_af_filehandle_ok(file))\n\t\treturn;\n\n\tif (!file->checkCanWrite())\n\t\treturn;\n\n\tTrack *track = file->getTrack(trackid);\n\tif (!track)\n\t\treturn;\n\n\tMarker *marker = track->getMarker(markid);\n\tif (!marker)\n\t\treturn;\n\n\tif (position < 0)\n\t{\n\t\t_af_error(AF_BAD_MARKPOS, \"invalid marker position %jd\",\n\t\t\tstatic_cast<intmax_t>(position));\n\t\tposition = 0;\n\t}\n\n\tmarker->position = position;\n}"
        }
      },
      {
        "call_info": {
          "callee": "_af_error",
          "args": [
            "AF_BAD_FRAME",
            "\"loop start frame must not be negative\""
          ],
          "line": 199
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "getLoop",
          "args": [
            "file",
            "instid",
            "loopid",
            "true"
          ],
          "line": 192
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include \"util.h\"\n#include \"audiofile.h\"\n#include \"afinternal.h\"\n#include \"Setup.h\"\n#include \"Instrument.h\"\n#include \"FileHandle.h\"\n#include \"config.h\"\n\nint afSetLoopStartFrame (AFfilehandle file, int instid, int loopid, AFframecount startFrame)\n{\n\tLoop *loop = getLoop(file, instid, loopid, true);\n\n\tif (!loop)\n\t\treturn -1;\n\n\tif (startFrame < 0)\n\t{\n\t\t_af_error(AF_BAD_FRAME, \"loop start frame must not be negative\");\n\t\treturn AF_FAIL;\n\t}\n\n\tint\ttrackid = loop->trackid;\n\tint beginMarker = loop->beginMarker;\n\n\tafSetMarkPosition(file, trackid, beginMarker, startFrame);\n\treturn AF_SUCCEED;\n}"
  },
  {
    "function_name": "afGetLoopStart",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/Loop.cpp",
    "lines": "177-185",
    "snippet": "int afGetLoopStart (AFfilehandle file, int instid, int loopid)\n{\n\tLoop *loop = getLoop(file, instid, loopid, false);\n\n\tif (!loop)\n\t\treturn -1;\n\n\treturn loop->beginMarker;\n}",
    "includes": [
      "#include \"util.h\"",
      "#include \"audiofile.h\"",
      "#include \"afinternal.h\"",
      "#include \"Setup.h\"",
      "#include \"Instrument.h\"",
      "#include \"FileHandle.h\"",
      "#include \"config.h\""
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "getLoop",
          "args": [
            "file",
            "instid",
            "loopid",
            "false"
          ],
          "line": 179
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include \"util.h\"\n#include \"audiofile.h\"\n#include \"afinternal.h\"\n#include \"Setup.h\"\n#include \"Instrument.h\"\n#include \"FileHandle.h\"\n#include \"config.h\"\n\nint afGetLoopStart (AFfilehandle file, int instid, int loopid)\n{\n\tLoop *loop = getLoop(file, instid, loopid, false);\n\n\tif (!loop)\n\t\treturn -1;\n\n\treturn loop->beginMarker;\n}"
  },
  {
    "function_name": "afSetLoopStart",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/Loop.cpp",
    "lines": "164-172",
    "snippet": "void afSetLoopStart(AFfilehandle file, int instid, int loopid, int markid)\n{\n\tLoop *loop = getLoop(file, instid, loopid, true);\n\n\tif (!loop)\n\t\treturn;\n\n\tloop->beginMarker = markid;\n}",
    "includes": [
      "#include \"util.h\"",
      "#include \"audiofile.h\"",
      "#include \"afinternal.h\"",
      "#include \"Setup.h\"",
      "#include \"Instrument.h\"",
      "#include \"FileHandle.h\"",
      "#include \"config.h\""
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "getLoop",
          "args": [
            "file",
            "instid",
            "loopid",
            "true"
          ],
          "line": 166
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include \"util.h\"\n#include \"audiofile.h\"\n#include \"afinternal.h\"\n#include \"Setup.h\"\n#include \"Instrument.h\"\n#include \"FileHandle.h\"\n#include \"config.h\"\n\nvoid afSetLoopStart(AFfilehandle file, int instid, int loopid, int markid)\n{\n\tLoop *loop = getLoop(file, instid, loopid, true);\n\n\tif (!loop)\n\t\treturn;\n\n\tloop->beginMarker = markid;\n}"
  },
  {
    "function_name": "afGetLoopCount",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/Loop.cpp",
    "lines": "151-159",
    "snippet": "int afGetLoopCount(AFfilehandle file, int instid, int loopid)\n{\n\tLoop *loop = getLoop(file, instid, loopid, false);\n\n\tif (!loop)\n\t\treturn -1;\n\n\treturn loop->count;\n}",
    "includes": [
      "#include \"util.h\"",
      "#include \"audiofile.h\"",
      "#include \"afinternal.h\"",
      "#include \"Setup.h\"",
      "#include \"Instrument.h\"",
      "#include \"FileHandle.h\"",
      "#include \"config.h\""
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "getLoop",
          "args": [
            "file",
            "instid",
            "loopid",
            "false"
          ],
          "line": 153
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include \"util.h\"\n#include \"audiofile.h\"\n#include \"afinternal.h\"\n#include \"Setup.h\"\n#include \"Instrument.h\"\n#include \"FileHandle.h\"\n#include \"config.h\"\n\nint afGetLoopCount(AFfilehandle file, int instid, int loopid)\n{\n\tLoop *loop = getLoop(file, instid, loopid, false);\n\n\tif (!loop)\n\t\treturn -1;\n\n\treturn loop->count;\n}"
  },
  {
    "function_name": "afSetLoopCount",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/Loop.cpp",
    "lines": "131-146",
    "snippet": "int afSetLoopCount (AFfilehandle file, int instid, int loopid, int count)\n{\n\tLoop *loop = getLoop(file, instid, loopid, true);\n\n\tif (!loop)\n\t\treturn AF_FAIL;\n\n\tif (count < 1)\n\t{\n\t\t_af_error(AF_BAD_LOOPCOUNT, \"invalid loop count: %d\", count);\n\t\treturn AF_FAIL;\n\t}\n\n\tloop->count = count;\n\treturn AF_SUCCEED;\n}",
    "includes": [
      "#include \"util.h\"",
      "#include \"audiofile.h\"",
      "#include \"afinternal.h\"",
      "#include \"Setup.h\"",
      "#include \"Instrument.h\"",
      "#include \"FileHandle.h\"",
      "#include \"config.h\""
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "_af_error",
          "args": [
            "AF_BAD_LOOPCOUNT",
            "\"invalid loop count: %d\"",
            "count"
          ],
          "line": 140
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "getLoop",
          "args": [
            "file",
            "instid",
            "loopid",
            "true"
          ],
          "line": 133
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include \"util.h\"\n#include \"audiofile.h\"\n#include \"afinternal.h\"\n#include \"Setup.h\"\n#include \"Instrument.h\"\n#include \"FileHandle.h\"\n#include \"config.h\"\n\nint afSetLoopCount (AFfilehandle file, int instid, int loopid, int count)\n{\n\tLoop *loop = getLoop(file, instid, loopid, true);\n\n\tif (!loop)\n\t\treturn AF_FAIL;\n\n\tif (count < 1)\n\t{\n\t\t_af_error(AF_BAD_LOOPCOUNT, \"invalid loop count: %d\", count);\n\t\treturn AF_FAIL;\n\t}\n\n\tloop->count = count;\n\treturn AF_SUCCEED;\n}"
  },
  {
    "function_name": "afGetLoopMode",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/Loop.cpp",
    "lines": "118-126",
    "snippet": "int afGetLoopMode (AFfilehandle file, int instid, int loopid)\n{\n\tLoop *loop = getLoop(file, instid, loopid, false);\n\n\tif (!loop)\n\t\treturn -1;\n\n\treturn loop->mode;\n}",
    "includes": [
      "#include \"util.h\"",
      "#include \"audiofile.h\"",
      "#include \"afinternal.h\"",
      "#include \"Setup.h\"",
      "#include \"Instrument.h\"",
      "#include \"FileHandle.h\"",
      "#include \"config.h\""
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "getLoop",
          "args": [
            "file",
            "instid",
            "loopid",
            "false"
          ],
          "line": 120
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include \"util.h\"\n#include \"audiofile.h\"\n#include \"afinternal.h\"\n#include \"Setup.h\"\n#include \"Instrument.h\"\n#include \"FileHandle.h\"\n#include \"config.h\"\n\nint afGetLoopMode (AFfilehandle file, int instid, int loopid)\n{\n\tLoop *loop = getLoop(file, instid, loopid, false);\n\n\tif (!loop)\n\t\treturn -1;\n\n\treturn loop->mode;\n}"
  },
  {
    "function_name": "afSetLoopMode",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/Loop.cpp",
    "lines": "97-113",
    "snippet": "void afSetLoopMode (AFfilehandle file, int instid, int loopid, int mode)\n{\n\tLoop *loop = getLoop(file, instid, loopid, true);\n\n\tif (!loop)\n\t\treturn;\n\n\tif (mode != AF_LOOP_MODE_NOLOOP &&\n\t\tmode != AF_LOOP_MODE_FORW &&\n\t\tmode != AF_LOOP_MODE_FORWBAKW)\n\t{\n\t\t_af_error(AF_BAD_LOOPMODE, \"unrecognized loop mode %d\", mode);\n\t\treturn;\n\t}\n\n\tloop->mode = mode;\n}",
    "includes": [
      "#include \"util.h\"",
      "#include \"audiofile.h\"",
      "#include \"afinternal.h\"",
      "#include \"Setup.h\"",
      "#include \"Instrument.h\"",
      "#include \"FileHandle.h\"",
      "#include \"config.h\""
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "_af_error",
          "args": [
            "AF_BAD_LOOPMODE",
            "\"unrecognized loop mode %d\"",
            "mode"
          ],
          "line": 108
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "getLoop",
          "args": [
            "file",
            "instid",
            "loopid",
            "true"
          ],
          "line": 99
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include \"util.h\"\n#include \"audiofile.h\"\n#include \"afinternal.h\"\n#include \"Setup.h\"\n#include \"Instrument.h\"\n#include \"FileHandle.h\"\n#include \"config.h\"\n\nvoid afSetLoopMode (AFfilehandle file, int instid, int loopid, int mode)\n{\n\tLoop *loop = getLoop(file, instid, loopid, true);\n\n\tif (!loop)\n\t\treturn;\n\n\tif (mode != AF_LOOP_MODE_NOLOOP &&\n\t\tmode != AF_LOOP_MODE_FORW &&\n\t\tmode != AF_LOOP_MODE_FORWBAKW)\n\t{\n\t\t_af_error(AF_BAD_LOOPMODE, \"unrecognized loop mode %d\", mode);\n\t\treturn;\n\t}\n\n\tloop->mode = mode;\n}"
  },
  {
    "function_name": "afGetLoopIDs",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/Loop.cpp",
    "lines": "57-71",
    "snippet": "int afGetLoopIDs (AFfilehandle file, int instid, int *loopids)\n{\n\tif (!_af_filehandle_ok(file))\n\t\treturn AF_FAIL;\n\n\tInstrument *instrument = file->getInstrument(instid);\n\tif (!instrument)\n\t\treturn AF_FAIL;\n\n\tif (loopids)\n\t\tfor (int i=0; i < instrument->loopCount; i++)\n\t\t\tloopids[i] = instrument->loops[i].id;\n\n\treturn instrument->loopCount;\n}",
    "includes": [
      "#include \"util.h\"",
      "#include \"audiofile.h\"",
      "#include \"afinternal.h\"",
      "#include \"Setup.h\"",
      "#include \"Instrument.h\"",
      "#include \"FileHandle.h\"",
      "#include \"config.h\""
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "file->getInstrument",
          "args": [
            "instid"
          ],
          "line": 62
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "_af_filehandle_ok",
          "args": [
            "file"
          ],
          "line": 59
        },
        "resolved": true,
        "details": {
          "function_name": "_af_filehandle_ok",
          "container": null,
          "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/util.cpp",
          "lines": "71-84",
          "snippet": "bool _af_filehandle_ok (AFfilehandle file)\n{\n\tif (file == AF_NULL_FILEHANDLE)\n\t{\n\t\t_af_error(AF_BAD_FILEHANDLE, \"null file handle\");\n\t\treturn false;\n\t}\n\tif (file->m_valid != _AF_VALID_FILEHANDLE)\n\t{\n\t\t_af_error(AF_BAD_FILEHANDLE, \"invalid file handle\");\n\t\treturn false;\n\t}\n\treturn true;\n}",
          "includes": [
            "#include \"util.h\"",
            "#include \"units.h\"",
            "#include \"pcm.h\"",
            "#include \"compression.h\"",
            "#include \"byteorder.h\"",
            "#include \"aupvinternal.h\"",
            "#include \"afinternal.h\"",
            "#include \"Track.h\"",
            "#include \"Setup.h\"",
            "#include \"FileHandle.h\"",
            "#include \"File.h\"",
            "#include \"AudioFormat.h\"",
            "#include \"aupvlist.h\"",
            "#include \"audiofile.h\"",
            "#include <assert.h>",
            "#include <string.h>",
            "#include <stdlib.h>",
            "#include <stdio.h>",
            "#include \"config.h\""
          ],
          "macros_used": [],
          "globals_used": [],
          "called_functions": [],
          "contextual_snippet": "#include \"util.h\"\n#include \"units.h\"\n#include \"pcm.h\"\n#include \"compression.h\"\n#include \"byteorder.h\"\n#include \"aupvinternal.h\"\n#include \"afinternal.h\"\n#include \"Track.h\"\n#include \"Setup.h\"\n#include \"FileHandle.h\"\n#include \"File.h\"\n#include \"AudioFormat.h\"\n#include \"aupvlist.h\"\n#include \"audiofile.h\"\n#include <assert.h>\n#include <string.h>\n#include <stdlib.h>\n#include <stdio.h>\n#include \"config.h\"\n\nbool _af_filehandle_ok (AFfilehandle file)\n{\n\tif (file == AF_NULL_FILEHANDLE)\n\t{\n\t\t_af_error(AF_BAD_FILEHANDLE, \"null file handle\");\n\t\treturn false;\n\t}\n\tif (file->m_valid != _AF_VALID_FILEHANDLE)\n\t{\n\t\t_af_error(AF_BAD_FILEHANDLE, \"invalid file handle\");\n\t\treturn false;\n\t}\n\treturn true;\n}"
        }
      }
    ],
    "contextual_snippet": "#include \"util.h\"\n#include \"audiofile.h\"\n#include \"afinternal.h\"\n#include \"Setup.h\"\n#include \"Instrument.h\"\n#include \"FileHandle.h\"\n#include \"config.h\"\n\nint afGetLoopIDs (AFfilehandle file, int instid, int *loopids)\n{\n\tif (!_af_filehandle_ok(file))\n\t\treturn AF_FAIL;\n\n\tInstrument *instrument = file->getInstrument(instid);\n\tif (!instrument)\n\t\treturn AF_FAIL;\n\n\tif (loopids)\n\t\tfor (int i=0; i < instrument->loopCount; i++)\n\t\t\tloopids[i] = instrument->loops[i].id;\n\n\treturn instrument->loopCount;\n}"
  },
  {
    "function_name": "afInitLoopIDs",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/Loop.cpp",
    "lines": "37-55",
    "snippet": "void afInitLoopIDs (AFfilesetup setup, int instid, const int *loopids, int nloops)\n{\n\tif (!_af_filesetup_ok(setup))\n\t\treturn;\n\n\tif (!_af_unique_ids(loopids, nloops, \"loop\", AF_BAD_LOOPID))\n\t\treturn;\n\n\tInstrumentSetup *instrument = setup->getInstrument(instid);\n\tif (!instrument)\n\t\treturn;\n\n\tinstrument->freeLoops();\n\tif (!instrument->allocateLoops(nloops))\n\t\treturn;\n\n\tfor (int i=0; i < nloops; i++)\n\t\tinstrument->loops[i].id = loopids[i];\n}",
    "includes": [
      "#include \"util.h\"",
      "#include \"audiofile.h\"",
      "#include \"afinternal.h\"",
      "#include \"Setup.h\"",
      "#include \"Instrument.h\"",
      "#include \"FileHandle.h\"",
      "#include \"config.h\""
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "instrument->allocateLoops",
          "args": [
            "nloops"
          ],
          "line": 50
        },
        "resolved": true,
        "details": {
          "function_name": "allocateLoops",
          "container": "InstrumentSetup",
          "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/Instrument.cpp",
          "lines": "57-67",
          "snippet": "bool InstrumentSetup::allocateLoops(int count)\n{\n\tfreeLoops();\n\tloops = (LoopSetup *) _af_calloc(count, sizeof (LoopSetup));\n\tif (loops)\n\t{\n\t\tloopCount = count;\n\t\treturn true;\n\t}\n\treturn false;\n}",
          "includes": [
            "#include <stdlib.h>",
            "#include \"util.h\"",
            "#include \"units.h\"",
            "#include \"audiofile.h\"",
            "#include \"afinternal.h\"",
            "#include \"Setup.h\"",
            "#include \"Instrument.h\"",
            "#include \"FileHandle.h\"",
            "#include \"config.h\""
          ],
          "macros_used": [],
          "globals_used": [],
          "called_functions": [],
          "contextual_snippet": "#include <stdlib.h>\n#include \"util.h\"\n#include \"units.h\"\n#include \"audiofile.h\"\n#include \"afinternal.h\"\n#include \"Setup.h\"\n#include \"Instrument.h\"\n#include \"FileHandle.h\"\n#include \"config.h\"\n\nInstrumentSetup {\n  bool InstrumentSetup::allocateLoops(int count)\n  {\n  \tfreeLoops();\n  \tloops = (LoopSetup *) _af_calloc(count, sizeof (LoopSetup));\n  \tif (loops)\n  \t{\n  \t\tloopCount = count;\n  \t\treturn true;\n  \t}\n  \treturn false;\n  }\n}"
        }
      },
      {
        "call_info": {
          "callee": "instrument->freeLoops",
          "args": [],
          "line": 49
        },
        "resolved": true,
        "details": {
          "function_name": "freeLoops",
          "container": "InstrumentSetup",
          "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/Instrument.cpp",
          "lines": "69-75",
          "snippet": "void InstrumentSetup::freeLoops()\n{\n\tif (loops)\n\t\tfree(loops);\n\tloops = NULL;\n\tloopCount = 0;\n}",
          "includes": [
            "#include <stdlib.h>",
            "#include \"util.h\"",
            "#include \"units.h\"",
            "#include \"audiofile.h\"",
            "#include \"afinternal.h\"",
            "#include \"Setup.h\"",
            "#include \"Instrument.h\"",
            "#include \"FileHandle.h\"",
            "#include \"config.h\""
          ],
          "macros_used": [],
          "globals_used": [],
          "called_functions": [],
          "contextual_snippet": "#include <stdlib.h>\n#include \"util.h\"\n#include \"units.h\"\n#include \"audiofile.h\"\n#include \"afinternal.h\"\n#include \"Setup.h\"\n#include \"Instrument.h\"\n#include \"FileHandle.h\"\n#include \"config.h\"\n\nInstrumentSetup {\n  void InstrumentSetup::freeLoops()\n  {\n  \tif (loops)\n  \t\tfree(loops);\n  \tloops = NULL;\n  \tloopCount = 0;\n  }\n}"
        }
      },
      {
        "call_info": {
          "callee": "setup->getInstrument",
          "args": [
            "instid"
          ],
          "line": 45
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "_af_unique_ids",
          "args": [
            "loopids",
            "nloops",
            "\"loop\"",
            "AF_BAD_LOOPID"
          ],
          "line": 42
        },
        "resolved": true,
        "details": {
          "function_name": "_af_unique_ids",
          "container": null,
          "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/util.cpp",
          "lines": "369-384",
          "snippet": "bool _af_unique_ids (const int *ids, int nids, const char *idname, int iderr)\n{\n\tfor (int i = 0; i < nids; i++)\n\t{\n\t\tfor (int j = 0; j < i; j++)\n\t\t{\n\t\t\tif (ids[i] == ids[j])\n\t\t\t{\n\t\t\t\t_af_error(iderr, \"nonunique %s id %d\", idname, ids[i]);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn true;\n}",
          "includes": [
            "#include \"util.h\"",
            "#include \"units.h\"",
            "#include \"pcm.h\"",
            "#include \"compression.h\"",
            "#include \"byteorder.h\"",
            "#include \"aupvinternal.h\"",
            "#include \"afinternal.h\"",
            "#include \"Track.h\"",
            "#include \"Setup.h\"",
            "#include \"FileHandle.h\"",
            "#include \"File.h\"",
            "#include \"AudioFormat.h\"",
            "#include \"aupvlist.h\"",
            "#include \"audiofile.h\"",
            "#include <assert.h>",
            "#include <string.h>",
            "#include <stdlib.h>",
            "#include <stdio.h>",
            "#include \"config.h\""
          ],
          "macros_used": [],
          "globals_used": [],
          "called_functions": [],
          "contextual_snippet": "#include \"util.h\"\n#include \"units.h\"\n#include \"pcm.h\"\n#include \"compression.h\"\n#include \"byteorder.h\"\n#include \"aupvinternal.h\"\n#include \"afinternal.h\"\n#include \"Track.h\"\n#include \"Setup.h\"\n#include \"FileHandle.h\"\n#include \"File.h\"\n#include \"AudioFormat.h\"\n#include \"aupvlist.h\"\n#include \"audiofile.h\"\n#include <assert.h>\n#include <string.h>\n#include <stdlib.h>\n#include <stdio.h>\n#include \"config.h\"\n\nbool _af_unique_ids (const int *ids, int nids, const char *idname, int iderr)\n{\n\tfor (int i = 0; i < nids; i++)\n\t{\n\t\tfor (int j = 0; j < i; j++)\n\t\t{\n\t\t\tif (ids[i] == ids[j])\n\t\t\t{\n\t\t\t\t_af_error(iderr, \"nonunique %s id %d\", idname, ids[i]);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn true;\n}"
        }
      },
      {
        "call_info": {
          "callee": "_af_filesetup_ok",
          "args": [
            "setup"
          ],
          "line": 39
        },
        "resolved": true,
        "details": {
          "function_name": "_af_filesetup_ok",
          "container": null,
          "file": "/home/michele/Desktop/ricerca/output_repos_cpp/CVE-2017-6829/repo/libaudiofile/util.cpp",
          "lines": "56-69",
          "snippet": "bool _af_filesetup_ok (AFfilesetup setup)\n{\n\tif (setup == AF_NULL_FILESETUP)\n\t{\n\t\t_af_error(AF_BAD_FILESETUP, \"null file setup\");\n\t\treturn false;\n\t}\n\tif (setup->valid != _AF_VALID_FILESETUP)\n\t{\n\t\t_af_error(AF_BAD_FILESETUP, \"invalid file setup\");\n\t\treturn false;\n\t}\n\treturn true;\n}",
          "includes": [
            "#include \"util.h\"",
            "#include \"units.h\"",
            "#include \"pcm.h\"",
            "#include \"compression.h\"",
            "#include \"byteorder.h\"",
            "#include \"aupvinternal.h\"",
            "#include \"afinternal.h\"",
            "#include \"Track.h\"",
            "#include \"Setup.h\"",
            "#include \"FileHandle.h\"",
            "#include \"File.h\"",
            "#include \"AudioFormat.h\"",
            "#include \"aupvlist.h\"",
            "#include \"audiofile.h\"",
            "#include <assert.h>",
            "#include <string.h>",
            "#include <stdlib.h>",
            "#include <stdio.h>",
            "#include \"config.h\""
          ],
          "macros_used": [],
          "globals_used": [],
          "called_functions": [],
          "contextual_snippet": "#include \"util.h\"\n#include \"units.h\"\n#include \"pcm.h\"\n#include \"compression.h\"\n#include \"byteorder.h\"\n#include \"aupvinternal.h\"\n#include \"afinternal.h\"\n#include \"Track.h\"\n#include \"Setup.h\"\n#include \"FileHandle.h\"\n#include \"File.h\"\n#include \"AudioFormat.h\"\n#include \"aupvlist.h\"\n#include \"audiofile.h\"\n#include <assert.h>\n#include <string.h>\n#include <stdlib.h>\n#include <stdio.h>\n#include \"config.h\"\n\nbool _af_filesetup_ok (AFfilesetup setup)\n{\n\tif (setup == AF_NULL_FILESETUP)\n\t{\n\t\t_af_error(AF_BAD_FILESETUP, \"null file setup\");\n\t\treturn false;\n\t}\n\tif (setup->valid != _AF_VALID_FILESETUP)\n\t{\n\t\t_af_error(AF_BAD_FILESETUP, \"invalid file setup\");\n\t\treturn false;\n\t}\n\treturn true;\n}"
        }
      }
    ],
    "contextual_snippet": "#include \"util.h\"\n#include \"audiofile.h\"\n#include \"afinternal.h\"\n#include \"Setup.h\"\n#include \"Instrument.h\"\n#include \"FileHandle.h\"\n#include \"config.h\"\n\nvoid afInitLoopIDs (AFfilesetup setup, int instid, const int *loopids, int nloops)\n{\n\tif (!_af_filesetup_ok(setup))\n\t\treturn;\n\n\tif (!_af_unique_ids(loopids, nloops, \"loop\", AF_BAD_LOOPID))\n\t\treturn;\n\n\tInstrumentSetup *instrument = setup->getInstrument(instid);\n\tif (!instrument)\n\t\treturn;\n\n\tinstrument->freeLoops();\n\tif (!instrument->allocateLoops(nloops))\n\t\treturn;\n\n\tfor (int i=0; i < nloops; i++)\n\t\tinstrument->loops[i].id = loopids[i];\n}"
  }
]