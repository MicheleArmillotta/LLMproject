[
  {
    "function_name": "v9fs_lookup_revalidate",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_c/CVE-2014-9717/repo/fs/9p/vfs_dentry.c",
    "lines": "77-110",
    "snippet": "static int v9fs_lookup_revalidate(struct dentry *dentry, unsigned int flags)\n{\n\tstruct p9_fid *fid;\n\tstruct inode *inode;\n\tstruct v9fs_inode *v9inode;\n\n\tif (flags & LOOKUP_RCU)\n\t\treturn -ECHILD;\n\n\tinode = dentry->d_inode;\n\tif (!inode)\n\t\tgoto out_valid;\n\n\tv9inode = V9FS_I(inode);\n\tif (v9inode->cache_validity & V9FS_INO_INVALID_ATTR) {\n\t\tint retval;\n\t\tstruct v9fs_session_info *v9ses;\n\t\tfid = v9fs_fid_lookup(dentry);\n\t\tif (IS_ERR(fid))\n\t\t\treturn PTR_ERR(fid);\n\n\t\tv9ses = v9fs_inode2v9ses(inode);\n\t\tif (v9fs_proto_dotl(v9ses))\n\t\t\tretval = v9fs_refresh_inode_dotl(fid, inode);\n\t\telse\n\t\t\tretval = v9fs_refresh_inode(fid, inode);\n\t\tif (retval == -ENOENT)\n\t\t\treturn 0;\n\t\tif (retval < 0)\n\t\t\treturn retval;\n\t}\nout_valid:\n\treturn 1;\n}",
    "includes": [
      "#include \"fid.h\"",
      "#include \"v9fs_vfs.h\"",
      "#include \"v9fs.h\"",
      "#include <net/9p/client.h>",
      "#include <net/9p/9p.h>",
      "#include <linux/slab.h>",
      "#include <linux/sched.h>",
      "#include <linux/idr.h>",
      "#include <linux/namei.h>",
      "#include <linux/inet.h>",
      "#include <linux/string.h>",
      "#include <linux/stat.h>",
      "#include <linux/pagemap.h>",
      "#include <linux/file.h>",
      "#include <linux/fs.h>",
      "#include <linux/errno.h>",
      "#include <linux/module.h>"
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "v9fs_refresh_inode",
          "args": [
            "fid",
            "inode"
          ],
          "line": 102
        },
        "resolved": true,
        "details": {
          "function_name": "v9fs_refresh_inode",
          "container": null,
          "file": "/home/michele/Desktop/ricerca/output_repos_c/CVE-2014-9717/repo/fs/9p/vfs_inode.c",
          "lines": "1462-1495",
          "snippet": "int v9fs_refresh_inode(struct p9_fid *fid, struct inode *inode)\n{\n\tint umode;\n\tdev_t rdev;\n\tloff_t i_size;\n\tstruct p9_wstat *st;\n\tstruct v9fs_session_info *v9ses;\n\n\tv9ses = v9fs_inode2v9ses(inode);\n\tst = p9_client_stat(fid);\n\tif (IS_ERR(st))\n\t\treturn PTR_ERR(st);\n\t/*\n\t * Don't update inode if the file type is different\n\t */\n\tumode = p9mode2unixmode(v9ses, st, &rdev);\n\tif ((inode->i_mode & S_IFMT) != (umode & S_IFMT))\n\t\tgoto out;\n\n\tspin_lock(&inode->i_lock);\n\t/*\n\t * We don't want to refresh inode->i_size,\n\t * because we may have cached data\n\t */\n\ti_size = inode->i_size;\n\tv9fs_stat2inode(st, inode, inode->i_sb);\n\tif (v9ses->cache == CACHE_LOOSE || v9ses->cache == CACHE_FSCACHE)\n\t\tinode->i_size = i_size;\n\tspin_unlock(&inode->i_lock);\nout:\n\tp9stat_free(st);\n\tkfree(st);\n\treturn 0;\n}",
          "includes": [
            "#include \"acl.h\"",
            "#include \"xattr.h\"",
            "#include \"cache.h\"",
            "#include \"fid.h\"",
            "#include \"v9fs_vfs.h\"",
            "#include \"v9fs.h\"",
            "#include <net/9p/client.h>",
            "#include <net/9p/9p.h>",
            "#include <linux/posix_acl.h>",
            "#include <linux/xattr.h>",
            "#include <linux/slab.h>",
            "#include <linux/sched.h>",
            "#include <linux/idr.h>",
            "#include <linux/namei.h>",
            "#include <linux/inet.h>",
            "#include <linux/string.h>",
            "#include <linux/stat.h>",
            "#include <linux/pagemap.h>",
            "#include <linux/file.h>",
            "#include <linux/fs.h>",
            "#include <linux/errno.h>",
            "#include <linux/module.h>"
          ],
          "macros_used": [],
          "globals_used": [],
          "called_functions": [],
          "contextual_snippet": "#include \"acl.h\"\n#include \"xattr.h\"\n#include \"cache.h\"\n#include \"fid.h\"\n#include \"v9fs_vfs.h\"\n#include \"v9fs.h\"\n#include <net/9p/client.h>\n#include <net/9p/9p.h>\n#include <linux/posix_acl.h>\n#include <linux/xattr.h>\n#include <linux/slab.h>\n#include <linux/sched.h>\n#include <linux/idr.h>\n#include <linux/namei.h>\n#include <linux/inet.h>\n#include <linux/string.h>\n#include <linux/stat.h>\n#include <linux/pagemap.h>\n#include <linux/file.h>\n#include <linux/fs.h>\n#include <linux/errno.h>\n#include <linux/module.h>\n\nint v9fs_refresh_inode(struct p9_fid *fid, struct inode *inode)\n{\n\tint umode;\n\tdev_t rdev;\n\tloff_t i_size;\n\tstruct p9_wstat *st;\n\tstruct v9fs_session_info *v9ses;\n\n\tv9ses = v9fs_inode2v9ses(inode);\n\tst = p9_client_stat(fid);\n\tif (IS_ERR(st))\n\t\treturn PTR_ERR(st);\n\t/*\n\t * Don't update inode if the file type is different\n\t */\n\tumode = p9mode2unixmode(v9ses, st, &rdev);\n\tif ((inode->i_mode & S_IFMT) != (umode & S_IFMT))\n\t\tgoto out;\n\n\tspin_lock(&inode->i_lock);\n\t/*\n\t * We don't want to refresh inode->i_size,\n\t * because we may have cached data\n\t */\n\ti_size = inode->i_size;\n\tv9fs_stat2inode(st, inode, inode->i_sb);\n\tif (v9ses->cache == CACHE_LOOSE || v9ses->cache == CACHE_FSCACHE)\n\t\tinode->i_size = i_size;\n\tspin_unlock(&inode->i_lock);\nout:\n\tp9stat_free(st);\n\tkfree(st);\n\treturn 0;\n}"
        }
      },
      {
        "call_info": {
          "callee": "v9fs_refresh_inode_dotl",
          "args": [
            "fid",
            "inode"
          ],
          "line": 100
        },
        "resolved": true,
        "details": {
          "function_name": "v9fs_refresh_inode_dotl",
          "container": null,
          "file": "/home/michele/Desktop/ricerca/output_repos_c/CVE-2014-9717/repo/fs/9p/vfs_inode_dotl.c",
          "lines": "945-974",
          "snippet": "int v9fs_refresh_inode_dotl(struct p9_fid *fid, struct inode *inode)\n{\n\tloff_t i_size;\n\tstruct p9_stat_dotl *st;\n\tstruct v9fs_session_info *v9ses;\n\n\tv9ses = v9fs_inode2v9ses(inode);\n\tst = p9_client_getattr_dotl(fid, P9_STATS_ALL);\n\tif (IS_ERR(st))\n\t\treturn PTR_ERR(st);\n\t/*\n\t * Don't update inode if the file type is different\n\t */\n\tif ((inode->i_mode & S_IFMT) != (st->st_mode & S_IFMT))\n\t\tgoto out;\n\n\tspin_lock(&inode->i_lock);\n\t/*\n\t * We don't want to refresh inode->i_size,\n\t * because we may have cached data\n\t */\n\ti_size = inode->i_size;\n\tv9fs_stat2inode_dotl(st, inode);\n\tif (v9ses->cache == CACHE_LOOSE || v9ses->cache == CACHE_FSCACHE)\n\t\tinode->i_size = i_size;\n\tspin_unlock(&inode->i_lock);\nout:\n\tkfree(st);\n\treturn 0;\n}",
          "includes": [
            "#include \"acl.h\"",
            "#include \"xattr.h\"",
            "#include \"cache.h\"",
            "#include \"fid.h\"",
            "#include \"v9fs_vfs.h\"",
            "#include \"v9fs.h\"",
            "#include <net/9p/client.h>",
            "#include <net/9p/9p.h>",
            "#include <linux/posix_acl.h>",
            "#include <linux/xattr.h>",
            "#include <linux/slab.h>",
            "#include <linux/sched.h>",
            "#include <linux/idr.h>",
            "#include <linux/namei.h>",
            "#include <linux/inet.h>",
            "#include <linux/string.h>",
            "#include <linux/stat.h>",
            "#include <linux/pagemap.h>",
            "#include <linux/file.h>",
            "#include <linux/fs.h>",
            "#include <linux/errno.h>",
            "#include <linux/module.h>"
          ],
          "macros_used": [],
          "globals_used": [],
          "called_functions": [],
          "contextual_snippet": "#include \"acl.h\"\n#include \"xattr.h\"\n#include \"cache.h\"\n#include \"fid.h\"\n#include \"v9fs_vfs.h\"\n#include \"v9fs.h\"\n#include <net/9p/client.h>\n#include <net/9p/9p.h>\n#include <linux/posix_acl.h>\n#include <linux/xattr.h>\n#include <linux/slab.h>\n#include <linux/sched.h>\n#include <linux/idr.h>\n#include <linux/namei.h>\n#include <linux/inet.h>\n#include <linux/string.h>\n#include <linux/stat.h>\n#include <linux/pagemap.h>\n#include <linux/file.h>\n#include <linux/fs.h>\n#include <linux/errno.h>\n#include <linux/module.h>\n\nint v9fs_refresh_inode_dotl(struct p9_fid *fid, struct inode *inode)\n{\n\tloff_t i_size;\n\tstruct p9_stat_dotl *st;\n\tstruct v9fs_session_info *v9ses;\n\n\tv9ses = v9fs_inode2v9ses(inode);\n\tst = p9_client_getattr_dotl(fid, P9_STATS_ALL);\n\tif (IS_ERR(st))\n\t\treturn PTR_ERR(st);\n\t/*\n\t * Don't update inode if the file type is different\n\t */\n\tif ((inode->i_mode & S_IFMT) != (st->st_mode & S_IFMT))\n\t\tgoto out;\n\n\tspin_lock(&inode->i_lock);\n\t/*\n\t * We don't want to refresh inode->i_size,\n\t * because we may have cached data\n\t */\n\ti_size = inode->i_size;\n\tv9fs_stat2inode_dotl(st, inode);\n\tif (v9ses->cache == CACHE_LOOSE || v9ses->cache == CACHE_FSCACHE)\n\t\tinode->i_size = i_size;\n\tspin_unlock(&inode->i_lock);\nout:\n\tkfree(st);\n\treturn 0;\n}"
        }
      },
      {
        "call_info": {
          "callee": "v9fs_proto_dotl",
          "args": [
            "v9ses"
          ],
          "line": 99
        },
        "resolved": true,
        "details": {
          "function_name": "v9fs_proto_dotl",
          "container": null,
          "file": "/home/michele/Desktop/ricerca/output_repos_c/CVE-2014-9717/repo/fs/9p/v9fs.h",
          "lines": "187-190",
          "snippet": "static inline int v9fs_proto_dotl(struct v9fs_session_info *v9ses)\n{\n\treturn v9ses->flags & V9FS_PROTO_2000L;\n}",
          "includes": [
            "#include <linux/backing-dev.h>"
          ],
          "macros_used": [],
          "globals_used": [],
          "called_functions": [],
          "contextual_snippet": "#include <linux/backing-dev.h>\n\nstatic inline int v9fs_proto_dotl(struct v9fs_session_info *v9ses)\n{\n\treturn v9ses->flags & V9FS_PROTO_2000L;\n}"
        }
      },
      {
        "call_info": {
          "callee": "v9fs_inode2v9ses",
          "args": [
            "inode"
          ],
          "line": 98
        },
        "resolved": true,
        "details": {
          "function_name": "v9fs_inode2v9ses",
          "container": null,
          "file": "/home/michele/Desktop/ricerca/output_repos_c/CVE-2014-9717/repo/fs/9p/v9fs.h",
          "lines": "172-175",
          "snippet": "static inline struct v9fs_session_info *v9fs_inode2v9ses(struct inode *inode)\n{\n\treturn (inode->i_sb->s_fs_info);\n}",
          "includes": [
            "#include <linux/backing-dev.h>"
          ],
          "macros_used": [],
          "globals_used": [],
          "called_functions": [],
          "contextual_snippet": "#include <linux/backing-dev.h>\n\nstatic inline struct v9fs_session_info *v9fs_inode2v9ses(struct inode *inode)\n{\n\treturn (inode->i_sb->s_fs_info);\n}"
        }
      },
      {
        "call_info": {
          "callee": "PTR_ERR",
          "args": [
            "fid"
          ],
          "line": 96
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "IS_ERR",
          "args": [
            "fid"
          ],
          "line": 95
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "v9fs_fid_lookup",
          "args": [
            "dentry"
          ],
          "line": 94
        },
        "resolved": true,
        "details": {
          "function_name": "v9fs_fid_lookup",
          "container": null,
          "file": "/home/michele/Desktop/ricerca/output_repos_c/CVE-2014-9717/repo/fs/9p/fid.c",
          "lines": "231-258",
          "snippet": "struct p9_fid *v9fs_fid_lookup(struct dentry *dentry)\n{\n\tkuid_t uid;\n\tint  any, access;\n\tstruct v9fs_session_info *v9ses;\n\n\tv9ses = v9fs_dentry2v9ses(dentry);\n\taccess = v9ses->flags & V9FS_ACCESS_MASK;\n\tswitch (access) {\n\tcase V9FS_ACCESS_SINGLE:\n\tcase V9FS_ACCESS_USER:\n\tcase V9FS_ACCESS_CLIENT:\n\t\tuid = current_fsuid();\n\t\tany = 0;\n\t\tbreak;\n\n\tcase V9FS_ACCESS_ANY:\n\t\tuid = v9ses->uid;\n\t\tany = 1;\n\t\tbreak;\n\n\tdefault:\n\t\tuid = INVALID_UID;\n\t\tany = 0;\n\t\tbreak;\n\t}\n\treturn v9fs_fid_lookup_with_uid(dentry, uid, any);\n}",
          "includes": [
            "#include \"fid.h\"",
            "#include \"v9fs_vfs.h\"",
            "#include \"v9fs.h\"",
            "#include <net/9p/client.h>",
            "#include <net/9p/9p.h>",
            "#include <linux/idr.h>",
            "#include <linux/sched.h>",
            "#include <linux/slab.h>",
            "#include <linux/fs.h>",
            "#include <linux/errno.h>",
            "#include <linux/module.h>"
          ],
          "macros_used": [],
          "globals_used": [],
          "called_functions": [],
          "contextual_snippet": "#include \"fid.h\"\n#include \"v9fs_vfs.h\"\n#include \"v9fs.h\"\n#include <net/9p/client.h>\n#include <net/9p/9p.h>\n#include <linux/idr.h>\n#include <linux/sched.h>\n#include <linux/slab.h>\n#include <linux/fs.h>\n#include <linux/errno.h>\n#include <linux/module.h>\n\nstruct p9_fid *v9fs_fid_lookup(struct dentry *dentry)\n{\n\tkuid_t uid;\n\tint  any, access;\n\tstruct v9fs_session_info *v9ses;\n\n\tv9ses = v9fs_dentry2v9ses(dentry);\n\taccess = v9ses->flags & V9FS_ACCESS_MASK;\n\tswitch (access) {\n\tcase V9FS_ACCESS_SINGLE:\n\tcase V9FS_ACCESS_USER:\n\tcase V9FS_ACCESS_CLIENT:\n\t\tuid = current_fsuid();\n\t\tany = 0;\n\t\tbreak;\n\n\tcase V9FS_ACCESS_ANY:\n\t\tuid = v9ses->uid;\n\t\tany = 1;\n\t\tbreak;\n\n\tdefault:\n\t\tuid = INVALID_UID;\n\t\tany = 0;\n\t\tbreak;\n\t}\n\treturn v9fs_fid_lookup_with_uid(dentry, uid, any);\n}"
        }
      },
      {
        "call_info": {
          "callee": "V9FS_I",
          "args": [
            "inode"
          ],
          "line": 90
        },
        "resolved": true,
        "details": {
          "function_name": "V9FS_I",
          "container": null,
          "file": "/home/michele/Desktop/ricerca/output_repos_c/CVE-2014-9717/repo/fs/9p/v9fs.h",
          "lines": "137-140",
          "snippet": "static inline struct v9fs_inode *V9FS_I(const struct inode *inode)\n{\n\treturn container_of(inode, struct v9fs_inode, vfs_inode);\n}",
          "includes": [
            "#include <linux/backing-dev.h>"
          ],
          "macros_used": [],
          "globals_used": [],
          "called_functions": [],
          "contextual_snippet": "#include <linux/backing-dev.h>\n\nstatic inline struct v9fs_inode *V9FS_I(const struct inode *inode)\n{\n\treturn container_of(inode, struct v9fs_inode, vfs_inode);\n}"
        }
      }
    ],
    "contextual_snippet": "#include \"fid.h\"\n#include \"v9fs_vfs.h\"\n#include \"v9fs.h\"\n#include <net/9p/client.h>\n#include <net/9p/9p.h>\n#include <linux/slab.h>\n#include <linux/sched.h>\n#include <linux/idr.h>\n#include <linux/namei.h>\n#include <linux/inet.h>\n#include <linux/string.h>\n#include <linux/stat.h>\n#include <linux/pagemap.h>\n#include <linux/file.h>\n#include <linux/fs.h>\n#include <linux/errno.h>\n#include <linux/module.h>\n\nstatic int v9fs_lookup_revalidate(struct dentry *dentry, unsigned int flags)\n{\n\tstruct p9_fid *fid;\n\tstruct inode *inode;\n\tstruct v9fs_inode *v9inode;\n\n\tif (flags & LOOKUP_RCU)\n\t\treturn -ECHILD;\n\n\tinode = dentry->d_inode;\n\tif (!inode)\n\t\tgoto out_valid;\n\n\tv9inode = V9FS_I(inode);\n\tif (v9inode->cache_validity & V9FS_INO_INVALID_ATTR) {\n\t\tint retval;\n\t\tstruct v9fs_session_info *v9ses;\n\t\tfid = v9fs_fid_lookup(dentry);\n\t\tif (IS_ERR(fid))\n\t\t\treturn PTR_ERR(fid);\n\n\t\tv9ses = v9fs_inode2v9ses(inode);\n\t\tif (v9fs_proto_dotl(v9ses))\n\t\t\tretval = v9fs_refresh_inode_dotl(fid, inode);\n\t\telse\n\t\t\tretval = v9fs_refresh_inode(fid, inode);\n\t\tif (retval == -ENOENT)\n\t\t\treturn 0;\n\t\tif (retval < 0)\n\t\t\treturn retval;\n\t}\nout_valid:\n\treturn 1;\n}"
  },
  {
    "function_name": "v9fs_dentry_release",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_c/CVE-2014-9717/repo/fs/9p/vfs_dentry.c",
    "lines": "67-75",
    "snippet": "static void v9fs_dentry_release(struct dentry *dentry)\n{\n\tstruct hlist_node *p, *n;\n\tp9_debug(P9_DEBUG_VFS, \" dentry: %pd (%p)\\n\",\n\t\t dentry, dentry);\n\thlist_for_each_safe(p, n, (struct hlist_head *)&dentry->d_fsdata)\n\t\tp9_client_clunk(hlist_entry(p, struct p9_fid, dlist));\n\tdentry->d_fsdata = NULL;\n}",
    "includes": [
      "#include \"fid.h\"",
      "#include \"v9fs_vfs.h\"",
      "#include \"v9fs.h\"",
      "#include <net/9p/client.h>",
      "#include <net/9p/9p.h>",
      "#include <linux/slab.h>",
      "#include <linux/sched.h>",
      "#include <linux/idr.h>",
      "#include <linux/namei.h>",
      "#include <linux/inet.h>",
      "#include <linux/string.h>",
      "#include <linux/stat.h>",
      "#include <linux/pagemap.h>",
      "#include <linux/file.h>",
      "#include <linux/fs.h>",
      "#include <linux/errno.h>",
      "#include <linux/module.h>"
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "hlist_for_each_safe",
          "args": [
            "p",
            "n",
            "(struct hlist_head *)&dentry->d_fsdata"
          ],
          "line": 72
        },
        "resolved": false,
        "reason": "library_or_external"
      },
      {
        "call_info": {
          "callee": "p9_debug",
          "args": [
            "P9_DEBUG_VFS",
            "\" dentry: %pd (%p)\\n\"",
            "dentry",
            "dentry"
          ],
          "line": 70
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include \"fid.h\"\n#include \"v9fs_vfs.h\"\n#include \"v9fs.h\"\n#include <net/9p/client.h>\n#include <net/9p/9p.h>\n#include <linux/slab.h>\n#include <linux/sched.h>\n#include <linux/idr.h>\n#include <linux/namei.h>\n#include <linux/inet.h>\n#include <linux/string.h>\n#include <linux/stat.h>\n#include <linux/pagemap.h>\n#include <linux/file.h>\n#include <linux/fs.h>\n#include <linux/errno.h>\n#include <linux/module.h>\n\nstatic void v9fs_dentry_release(struct dentry *dentry)\n{\n\tstruct hlist_node *p, *n;\n\tp9_debug(P9_DEBUG_VFS, \" dentry: %pd (%p)\\n\",\n\t\t dentry, dentry);\n\thlist_for_each_safe(p, n, (struct hlist_head *)&dentry->d_fsdata)\n\t\tp9_client_clunk(hlist_entry(p, struct p9_fid, dlist));\n\tdentry->d_fsdata = NULL;\n}"
  },
  {
    "function_name": "v9fs_cached_dentry_delete",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_c/CVE-2014-9717/repo/fs/9p/vfs_dentry.c",
    "lines": "50-59",
    "snippet": "static int v9fs_cached_dentry_delete(const struct dentry *dentry)\n{\n\tp9_debug(P9_DEBUG_VFS, \" dentry: %pd (%p)\\n\",\n\t\t dentry, dentry);\n\n\t/* Don't cache negative dentries */\n\tif (!dentry->d_inode)\n\t\treturn 1;\n\treturn 0;\n}",
    "includes": [
      "#include \"fid.h\"",
      "#include \"v9fs_vfs.h\"",
      "#include \"v9fs.h\"",
      "#include <net/9p/client.h>",
      "#include <net/9p/9p.h>",
      "#include <linux/slab.h>",
      "#include <linux/sched.h>",
      "#include <linux/idr.h>",
      "#include <linux/namei.h>",
      "#include <linux/inet.h>",
      "#include <linux/string.h>",
      "#include <linux/stat.h>",
      "#include <linux/pagemap.h>",
      "#include <linux/file.h>",
      "#include <linux/fs.h>",
      "#include <linux/errno.h>",
      "#include <linux/module.h>"
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "p9_debug",
          "args": [
            "P9_DEBUG_VFS",
            "\" dentry: %pd (%p)\\n\"",
            "dentry",
            "dentry"
          ],
          "line": 52
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include \"fid.h\"\n#include \"v9fs_vfs.h\"\n#include \"v9fs.h\"\n#include <net/9p/client.h>\n#include <net/9p/9p.h>\n#include <linux/slab.h>\n#include <linux/sched.h>\n#include <linux/idr.h>\n#include <linux/namei.h>\n#include <linux/inet.h>\n#include <linux/string.h>\n#include <linux/stat.h>\n#include <linux/pagemap.h>\n#include <linux/file.h>\n#include <linux/fs.h>\n#include <linux/errno.h>\n#include <linux/module.h>\n\nstatic int v9fs_cached_dentry_delete(const struct dentry *dentry)\n{\n\tp9_debug(P9_DEBUG_VFS, \" dentry: %pd (%p)\\n\",\n\t\t dentry, dentry);\n\n\t/* Don't cache negative dentries */\n\tif (!dentry->d_inode)\n\t\treturn 1;\n\treturn 0;\n}"
  }
]