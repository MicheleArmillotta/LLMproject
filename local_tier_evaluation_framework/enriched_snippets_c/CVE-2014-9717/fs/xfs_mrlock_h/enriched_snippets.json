[
  {
    "function_name": "mrdemote",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_c/CVE-2014-9717/repo/fs/xfs/mrlock.h",
    "lines": "82-88",
    "snippet": "static inline void mrdemote(mrlock_t *mrp)\n{\n#if defined(DEBUG) || defined(XFS_WARN)\n\tmrp->mr_writer = 0;\n#endif\n\tdowngrade_write(&mrp->mr_lock);\n}",
    "includes": [
      "#include <linux/rwsem.h>"
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "downgrade_write",
          "args": [
            "&mrp->mr_lock"
          ],
          "line": 87
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include <linux/rwsem.h>\n\nstatic inline void mrdemote(mrlock_t *mrp)\n{\n#if defined(DEBUG) || defined(XFS_WARN)\n\tmrp->mr_writer = 0;\n#endif\n\tdowngrade_write(&mrp->mr_lock);\n}"
  },
  {
    "function_name": "mrunlock_shared",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_c/CVE-2014-9717/repo/fs/xfs/mrlock.h",
    "lines": "77-80",
    "snippet": "static inline void mrunlock_shared(mrlock_t *mrp)\n{\n\tup_read(&mrp->mr_lock);\n}",
    "includes": [
      "#include <linux/rwsem.h>"
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "up_read",
          "args": [
            "&mrp->mr_lock"
          ],
          "line": 79
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include <linux/rwsem.h>\n\nstatic inline void mrunlock_shared(mrlock_t *mrp)\n{\n\tup_read(&mrp->mr_lock);\n}"
  },
  {
    "function_name": "mrunlock_excl",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_c/CVE-2014-9717/repo/fs/xfs/mrlock.h",
    "lines": "69-75",
    "snippet": "static inline void mrunlock_excl(mrlock_t *mrp)\n{\n#if defined(DEBUG) || defined(XFS_WARN)\n\tmrp->mr_writer = 0;\n#endif\n\tup_write(&mrp->mr_lock);\n}",
    "includes": [
      "#include <linux/rwsem.h>"
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "up_write",
          "args": [
            "&mrp->mr_lock"
          ],
          "line": 74
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include <linux/rwsem.h>\n\nstatic inline void mrunlock_excl(mrlock_t *mrp)\n{\n#if defined(DEBUG) || defined(XFS_WARN)\n\tmrp->mr_writer = 0;\n#endif\n\tup_write(&mrp->mr_lock);\n}"
  },
  {
    "function_name": "mrtryupdate",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_c/CVE-2014-9717/repo/fs/xfs/mrlock.h",
    "lines": "59-67",
    "snippet": "static inline int mrtryupdate(mrlock_t *mrp)\n{\n\tif (!down_write_trylock(&mrp->mr_lock))\n\t\treturn 0;\n#if defined(DEBUG) || defined(XFS_WARN)\n\tmrp->mr_writer = 1;\n#endif\n\treturn 1;\n}",
    "includes": [
      "#include <linux/rwsem.h>"
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "down_write_trylock",
          "args": [
            "&mrp->mr_lock"
          ],
          "line": 61
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include <linux/rwsem.h>\n\nstatic inline int mrtryupdate(mrlock_t *mrp)\n{\n\tif (!down_write_trylock(&mrp->mr_lock))\n\t\treturn 0;\n#if defined(DEBUG) || defined(XFS_WARN)\n\tmrp->mr_writer = 1;\n#endif\n\treturn 1;\n}"
  },
  {
    "function_name": "mrtryaccess",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_c/CVE-2014-9717/repo/fs/xfs/mrlock.h",
    "lines": "54-57",
    "snippet": "static inline int mrtryaccess(mrlock_t *mrp)\n{\n\treturn down_read_trylock(&mrp->mr_lock);\n}",
    "includes": [
      "#include <linux/rwsem.h>"
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "down_read_trylock",
          "args": [
            "&mrp->mr_lock"
          ],
          "line": 56
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include <linux/rwsem.h>\n\nstatic inline int mrtryaccess(mrlock_t *mrp)\n{\n\treturn down_read_trylock(&mrp->mr_lock);\n}"
  },
  {
    "function_name": "mrupdate_nested",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_c/CVE-2014-9717/repo/fs/xfs/mrlock.h",
    "lines": "46-52",
    "snippet": "static inline void mrupdate_nested(mrlock_t *mrp, int subclass)\n{\n\tdown_write_nested(&mrp->mr_lock, subclass);\n#if defined(DEBUG) || defined(XFS_WARN)\n\tmrp->mr_writer = 1;\n#endif\n}",
    "includes": [
      "#include <linux/rwsem.h>"
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "down_write_nested",
          "args": [
            "&mrp->mr_lock",
            "subclass"
          ],
          "line": 48
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include <linux/rwsem.h>\n\nstatic inline void mrupdate_nested(mrlock_t *mrp, int subclass)\n{\n\tdown_write_nested(&mrp->mr_lock, subclass);\n#if defined(DEBUG) || defined(XFS_WARN)\n\tmrp->mr_writer = 1;\n#endif\n}"
  },
  {
    "function_name": "mraccess_nested",
    "container": null,
    "file": "/home/michele/Desktop/ricerca/output_repos_c/CVE-2014-9717/repo/fs/xfs/mrlock.h",
    "lines": "41-44",
    "snippet": "static inline void mraccess_nested(mrlock_t *mrp, int subclass)\n{\n\tdown_read_nested(&mrp->mr_lock, subclass);\n}",
    "includes": [
      "#include <linux/rwsem.h>"
    ],
    "macros_used": [],
    "globals_used": [],
    "called_functions": [
      {
        "call_info": {
          "callee": "down_read_nested",
          "args": [
            "&mrp->mr_lock",
            "subclass"
          ],
          "line": 43
        },
        "resolved": false,
        "reason": "library_or_external"
      }
    ],
    "contextual_snippet": "#include <linux/rwsem.h>\n\nstatic inline void mraccess_nested(mrlock_t *mrp, int subclass)\n{\n\tdown_read_nested(&mrp->mr_lock, subclass);\n}"
  }
]